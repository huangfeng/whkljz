window.BMAP_AUTHENTIC_KEY="36a51a026506c89523f62c21890bb300";(function(){function aa(a){throw a;}var ba=void 0,i=!0,n=null,o=!1;function p(){return function(){}}function ca(a){return function(b){this[a]=b}}function s(a){return function(){return this[a]}}function da(a){return function(){return a}}var ea=[];function fa(a){return function(){return ea[a].apply(this,arguments)}}function ha(a,b){return ea[a]=b}var ia,t=ia=t||{version:"1.3.4"};t.Q="$BAIDU$";window[t.Q]=window[t.Q]||{};t.object=t.object||{}; t.extend=t.object.extend=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};t.A=t.A||{};t.A.M=function(a){return"string"==typeof a||a instanceof String?document.getElementById(a):a&&a.nodeName&&(1==a.nodeType||9==a.nodeType)?a:n};t.M=t.Ob=t.A.M;t.A.H=function(a){a=t.A.M(a);a.style.display="none";return a};t.H=t.A.H;t.lang=t.lang||{};t.lang.Ve=function(a){return"[object String]"==Object.prototype.toString.call(a)};t.Ve=t.lang.Ve; t.A.Bh=function(a){return t.lang.Ve(a)?document.getElementById(a):a};t.Bh=t.A.Bh;t.A.contains=function(a,b){var c=t.A.Bh,a=c(a),b=c(b);return a.contains?a!=b&&a.contains(b):!!(a.compareDocumentPosition(b)&16)};t.R=t.R||{};/msie (\d+\.\d)/i.test(navigator.userAgent)&&(t.R.aa=t.aa=document.documentMode||+RegExp.$1);var ja={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",usemap:"useMap",frameborder:"frameBorder"}; 8>t.R.aa?(ja["for"]="htmlFor",ja["class"]="className"):(ja.htmlFor="for",ja.className="class");t.A.dz=ja;t.A.Yx=function(a,b,c){a=t.A.M(a);if("style"==b)a.style.cssText=c;else{b=t.A.dz[b]||b;a.setAttribute(b,c)}return a};t.Yx=t.A.Yx;t.A.Zx=function(a,b){var a=t.A.M(a),c;for(c in b)t.A.Yx(a,c,b[c]);return a};t.Zx=t.A.Zx;t.xi=t.xi||{};(function(){var a=RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");t.xi.trim=function(b){return(""+b).replace(a,"")}})();t.trim=t.xi.trim; t.xi.Hj=function(a,b){var a=""+a,c=Array.prototype.slice.call(arguments,1),d=Object.prototype.toString;if(c.length){c=c.length==1?b!==n&&/\[object Array\]|\[object Object\]/.test(d.call(b))?b:c:c;return a.replace(/#\{(.+?)\}/g,function(a,b){var g=c[b];"[object Function]"==d.call(g)&&(g=g(b));return"undefined"==typeof g?"":g})}return a};t.Hj=t.xi.Hj; t.A.lc=function(a,b){for(var a=t.A.M(a),c=a.className.split(/\s+/),d=b.split(/\s+/),e,f=d.length,g,j=0;j<f;++j){g=0;for(e=c.length;g<e;++g)if(c[g]==d[j]){c.splice(g,1);break}}a.className=c.join(" ");return a};t.lc=t.A.lc; t.A.Mr=function(a,b,c){var a=t.A.M(a),d;if(a.insertAdjacentHTML)a.insertAdjacentHTML(b,c);else{d=a.ownerDocument.createRange();b=b.toUpperCase();if(b=="AFTERBEGIN"||b=="BEFOREEND"){d.selectNodeContents(a);d.collapse(b=="AFTERBEGIN")}else{b=b=="BEFOREBEGIN";d[b?"setStartBefore":"setEndAfter"](a);d.collapse(b)}d.insertNode(d.createContextualFragment(c))}return a};t.Mr=t.A.Mr;t.A.show=function(a){a=t.A.M(a);a.style.display="";return a};t.show=t.A.show; t.A.Cw=function(a){a=t.A.M(a);return a.nodeType==9?a:a.ownerDocument||a.document};t.A.ib=function(a,b){for(var a=t.A.M(a),c=b.split(/\s+/),d=a.className,e=" "+d+" ",f=0,g=c.length;f<g;f++)e.indexOf(" "+c[f]+" ")<0&&(d=d+(" "+c[f]));a.className=d;return a};t.ib=t.A.ib;t.A.Zu=t.A.Zu||{};t.A.fj=t.A.fj||[];t.A.fj.filter=function(a,b,c){for(var d=0,e=t.A.fj,f;f=e[d];d++)if(f=f[c])b=f(a,b);return b};t.xi.nF=function(a){return a.indexOf("-")<0&&a.indexOf("_")<0?a:a.replace(/[-_][^-_]/g,function(a){return a.charAt(1).toUpperCase()})}; t.A.ZS=function(a,b){t.A.Xw(a,b)?t.A.lc(a,b):t.A.ib(a,b)};t.A.Xw=function(a){if(arguments.length<=0||typeof a==="function")return this;if(this.size()<=0)return o;var a=a.replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s+/g," "),b=a.split(" "),c;t.forEach(this,function(a){for(var a=a.className,e=0;e<b.length;e++)if(!~(" "+a+" ").indexOf(" "+b[e]+" ")){c=o;return}c!==o&&(c=i)});return c}; t.A.ih=function(a,b){var c=t.A,a=c.M(a),b=t.xi.nF(b),d=a.style[b];if(!d)var e=c.Zu[b],d=a.currentStyle||(t.R.aa?a.style:getComputedStyle(a,n)),d=e&&e.get?e.get(a,d):d[e||b];if(e=c.fj)d=e.filter(b,d,"get");return d};t.ih=t.A.ih;/opera\/(\d+\.\d)/i.test(navigator.userAgent)&&(t.R.opera=+RegExp.$1);t.R.ED=/webkit/i.test(navigator.userAgent);t.R.EN=/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent);t.R.lx="CSS1Compat"==document.compatMode; t.A.W=function(a){var a=t.A.M(a),b=t.A.Cw(a),c=t.R,d=t.A.ih;c.EN>0&&b.getBoxObjectFor&&d(a,"position");var e={left:0,top:0},f;if(a==(c.aa&&!c.lx?b.body:b.documentElement))return e;if(a.getBoundingClientRect){a=a.getBoundingClientRect();e.left=Math.floor(a.left)+Math.max(b.documentElement.scrollLeft,b.body.scrollLeft);e.top=Math.floor(a.top)+Math.max(b.documentElement.scrollTop,b.body.scrollTop);e.left=e.left-b.documentElement.clientLeft;e.top=e.top-b.documentElement.clientTop;a=b.body;b=parseInt(d(a, "borderLeftWidth"));d=parseInt(d(a,"borderTopWidth"));if(c.aa&&!c.lx){e.left=e.left-(isNaN(b)?2:b);e.top=e.top-(isNaN(d)?2:d)}}else{f=a;do{e.left=e.left+f.offsetLeft;e.top=e.top+f.offsetTop;if(c.ED>0&&d(f,"position")=="fixed"){e.left=e.left+b.body.scrollLeft;e.top=e.top+b.body.scrollTop;break}f=f.offsetParent}while(f&&f!=a);if(c.opera>0||c.ED>0&&d(a,"position")=="absolute")e.top=e.top-b.body.offsetTop;for(f=a.offsetParent;f&&f!=b.body;){e.left=e.left-f.scrollLeft;if(!c.opera||f.tagName!="TR")e.top= e.top-f.scrollTop;f=f.offsetParent}}return e};/firefox\/(\d+\.\d)/i.test(navigator.userAgent)&&(t.R.wf=+RegExp.$1);var ka=navigator.userAgent;/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(ka)&&!/chrome/i.test(ka)&&(t.R.OE=+(RegExp.$1||RegExp.$2));/chrome\/(\d+\.\d)/i.test(navigator.userAgent)&&(t.R.TB=+RegExp.$1);t.dc=t.dc||{};t.dc.uc=function(a,b){var c,d,e=a.length;if("function"==typeof b)for(d=0;d<e;d++){c=a[d];c=b.call(a,c,d);if(c===o)break}return a};t.uc=t.dc.uc; t.lang.Q=function(){return"TANGRAM__"+(window[t.Q]._counter++).toString(36)};window[t.Q]._counter=window[t.Q]._counter||1;window[t.Q]._instances=window[t.Q]._instances||{};t.lang.yo=function(a){return"[object Function]"==Object.prototype.toString.call(a)};t.lang.ma=function(a){this.Q=a||t.lang.Q();window[t.Q]._instances[this.Q]=this};window[t.Q]._instances=window[t.Q]._instances||{};t.lang.ma.prototype.lg=fa(1);t.lang.ma.prototype.toString=function(){return"[object "+(this.SG||"Object")+"]"}; t.lang.Vs=function(a,b){this.type=a;this.returnValue=i;this.target=b||n;this.currentTarget=n};t.lang.ma.prototype.addEventListener=function(a,b,c){if(t.lang.yo(b)){!this.Fg&&(this.Fg={});var d=this.Fg,e;if(typeof c=="string"&&c){/[^\w\-]/.test(c)&&aa("nonstandard key:"+c);e=b.iD=c}a.indexOf("on")!=0&&(a="on"+a);typeof d[a]!="object"&&(d[a]={});e=e||t.lang.Q();b.iD=e;d[a][e]=b}}; t.lang.ma.prototype.removeEventListener=function(a,b){if(t.lang.yo(b))b=b.iD;else if(!t.lang.Ve(b))return;!this.Fg&&(this.Fg={});a.indexOf("on")!=0&&(a="on"+a);var c=this.Fg;c[a]&&c[a][b]&&delete c[a][b]}; t.lang.ma.prototype.dispatchEvent=function(a,b){t.lang.Ve(a)&&(a=new t.lang.Vs(a));!this.Fg&&(this.Fg={});var b=b||{},c;for(c in b)a[c]=b[c];var d=this.Fg,e=a.type;a.target=a.target||this;a.currentTarget=this;e.indexOf("on")!=0&&(e="on"+e);t.lang.yo(this[e])&&this[e].apply(this,arguments);if(typeof d[e]=="object")for(c in d[e])d[e][c].apply(this,arguments);return a.returnValue}; t.lang.ga=function(a,b,c){var d,e,f=a.prototype;e=new Function;e.prototype=b.prototype;e=a.prototype=new e;for(d in f)e[d]=f[d];a.prototype.constructor=a;a.LP=b.prototype;if("string"==typeof c)e.SG=c};t.ga=t.lang.ga;t.lang.Xc=function(a){return window[t.Q]._instances[a]||n};t.platform=t.platform||{};t.platform.IN=/macintosh/i.test(navigator.userAgent);t.platform.iS=/MicroMessenger/i.test(navigator.userAgent);t.platform.FD=/windows/i.test(navigator.userAgent);t.platform.NN=/x11/i.test(navigator.userAgent);t.platform.Gl=/android/i.test(navigator.userAgent);/android (\d+\.\d)/i.test(navigator.userAgent)&&(t.platform.BB=t.BB=RegExp.$1);t.platform.GN=/ipad/i.test(navigator.userAgent);t.platform.HN=/iphone/i.test(navigator.userAgent); function v(a,b){a.domEvent=b=window.event||b;a.clientX=b.clientX||b.pageX;a.clientY=b.clientY||b.pageY;a.offsetX=b.offsetX||b.layerX;a.offsetY=b.offsetY||b.layerY;a.screenX=b.screenX;a.screenY=b.screenY;a.ctrlKey=b.ctrlKey||b.metaKey;a.shiftKey=b.shiftKey;a.altKey=b.altKey;if(b.touches){a.touches=[];for(var c=0;c<b.touches.length;c++)a.touches.push({clientX:b.touches[c].clientX,clientY:b.touches[c].clientY,screenX:b.touches[c].screenX,screenY:b.touches[c].screenY,pageX:b.touches[c].pageX,pageY:b.touches[c].pageY, target:b.touches[c].target,identifier:b.touches[c].identifier})}if(b.changedTouches){a.changedTouches=[];for(c=0;c<b.changedTouches.length;c++)a.changedTouches.push({clientX:b.changedTouches[c].clientX,clientY:b.changedTouches[c].clientY,screenX:b.changedTouches[c].screenX,screenY:b.changedTouches[c].screenY,pageX:b.changedTouches[c].pageX,pageY:b.changedTouches[c].pageY,target:b.changedTouches[c].target,identifier:b.changedTouches[c].identifier})}if(b.targetTouches){a.targetTouches=[];for(c=0;c< b.targetTouches.length;c++)a.targetTouches.push({clientX:b.targetTouches[c].clientX,clientY:b.targetTouches[c].clientY,screenX:b.targetTouches[c].screenX,screenY:b.targetTouches[c].screenY,pageX:b.targetTouches[c].pageX,pageY:b.targetTouches[c].pageY,target:b.targetTouches[c].target,identifier:b.targetTouches[c].identifier})}a.rotation=b.rotation;a.scale=b.scale;return a}t.lang.hr=function(a){var b=window[t.Q];b.DI&&delete b.DI[a]};t.event={}; t.D=t.event.D=function(a,b,c){if(!(a=t.M(a)))return a;b=b.replace(/^on/,"");a.addEventListener?a.addEventListener(b,c,o):a.attachEvent&&a.attachEvent("on"+b,c);return a};t.ud=t.event.ud=function(a,b,c){if(!(a=t.M(a)))return a;b=b.replace(/^on/,"");a.removeEventListener?a.removeEventListener(b,c,o):a.detachEvent&&a.detachEvent("on"+b,c);return a}; t.A.Xw=function(a,b){if(!a||!a.className||typeof a.className!="string")return o;var c=-1;try{c=a.className==b||a.className.search(RegExp("(\\s|^)"+b+"(\\s|$)"))}catch(d){return o}return c>-1};t.mw=function(){function a(a){document.addEventListener&&(this.element=a,this.CC=this.Tj?"touchstart":"mousedown",this.qw=this.Tj?"touchmove":"mousemove",this.ow=this.Tj?"touchend":"mouseup",this.Ef=o,this.cp=this.bp=0,this.element.addEventListener(this.CC,this,o),ia.D(this.element,"mousedown",p()),this.handleEvent(n))}a.prototype={Tj:"ontouchstart"in window||"createTouch"in document,start:function(a){x(a);this.Ef=o;this.bp=this.Tj?a.touches[0].clientX:a.clientX;this.cp=this.Tj?a.touches[0].clientY: a.clientY;this.element.addEventListener(this.qw,this,o);this.element.addEventListener(this.ow,this,o)},move:function(a){ma(a);var c=this.Tj?a.touches[0].clientY:a.clientY;if(10<Math.abs((this.Tj?a.touches[0].clientX:a.clientX)-this.bp)||10<Math.abs(c-this.cp))this.Ef=i},end:function(a){ma(a);this.Ef||(a=document.createEvent("Event"),a.initEvent("tap",o,i),this.element.dispatchEvent(a));this.element.removeEventListener(this.qw,this,o);this.element.removeEventListener(this.ow,this,o)},handleEvent:function(a){if(a)switch(a.type){case this.CC:this.start(a); break;case this.qw:this.move(a);break;case this.ow:this.end(a)}}};return function(b){return new a(b)}}();var B=window.BMap||{};B.version="2.0";0<=B.version.indexOf("#")&&(B.version="2.0");B.vn=[];B.Od=function(a){this.vn.push(a)};B.Eu=[];B.Ex=function(a){this.Eu.push(a)};B.vK=B.apiLoad||p();var na=window.BMAP_AUTHENTIC_KEY;window.BMAP_AUTHENTIC_KEY=n;var oa=window.BMap_loadScriptTime,pa=(new Date).getTime(),qa=n,ra=i,sa=n;function ta(a,b){if(a=t.M(a)){var c=this;t.lang.ma.call(c);b=b||{};c.G={wv:200,Rb:i,or:o,fw:i,Yn:o,$n:o,jw:i,Zn:i,mr:i,pl:b.enable3DBuilding||o,Vc:25,wQ:240,iK:450,xb:C.xb,Ec:C.Ec,Or:!!b.Or,Hc:b.minZoom||1,nd:b.maxZoom||18,Mb:b.mapType||ua,NS:o,nr:o,Yv:500,FR:b.enableHighResolution!==o,pr:b.enableMapClick!==o,devicePixelRatio:b.devicePixelRatio||window.devicePixelRatio||1,HF:b.vectorMapLevel||3,md:b.mapStyle||n,WN:b.logoControl===o?o:i,DK:["chrome"],HB:b.beforeClickIcon||n};c.G.md&&(this.sD(c.G.md.controls), this.tD(c.G.md.geotableId));c.G.md&&c.G.md.styleId&&c.aD(c.G.md.styleId);c.G.Jn={dark:{backColor:"#2D2D2D",textColor:"#bfbfbf",iconUrl:"dicons"},normal:{backColor:"#F3F1EC",textColor:"#c61b1b",iconUrl:"icons"},light:{backColor:"#EBF8FC",textColor:"#017fb4",iconUrl:"licons"}};b.enableAutoResize&&(c.G.mr=b.enableAutoResize);t.platform.Gl&&1.5<window.devicePixelRatio&&(c.G.devicePixelRatio=1.5);var d=c.G.DK;if(D())for(var e=0,f=d.length;e<f;e++)if(t.R[d[e]]){c.G.devicePixelRatio=1;break}c.za=a;c.Su(a); a.unselectable="on";a.innerHTML="";a.appendChild(c.ta());b.size&&this.Mc(b.size);d=c.Eb();c.width=d.width;c.height=d.height;c.offsetX=0;c.offsetY=0;c.platform=a.firstChild;c.de=c.platform.firstChild;c.de.style.width=c.width+"px";c.de.style.height=c.height+"px";c.hd={};c.rf=new H(0,0);c.Vb=new H(0,0);c.qa=3;c.jc=0;c.Lv=n;c.Kv=n;c.wb="";c.Vq="";c.Xf={};c.Xf.custom={};c.Aa=0;c.L=new wa(a,{ql:"api"});c.L.H();c.L.dy(c);b=b||{};d=c.Mb=c.G.Mb;c.rd=d.Nj();d===ya&&za(5002);d===Aa&&za(5003);d=c.G;d.AF=b.minZoom; d.zF=b.maxZoom;c.yt();c.F={Tb:o,ub:0,Do:0,LD:0,lS:0,pv:o,Nx:-1,Wd:[]};c.platform.style.cursor=c.G.xb;for(e=0;e<B.vn.length;e++)B.vn[e](c);c.F.Nx=e;c.P();I.load("map",function(){c.Cb()});c.G.pr&&(setTimeout(function(){za("load_mapclick")},1E3),I.load("mapclick",function(){window.MPC_Mgr=new Ba(c)},i));Ca()&&I.load("oppc",function(){c.lt()});D()&&I.load("opmb",function(){c.lt()});a=n;c.dv=[]}}t.lang.ga(ta,t.lang.ma,"Map"); t.extend(ta.prototype,{ta:function(){var a=J("div"),b=a.style;b.overflow="visible";b.position="absolute";b.zIndex="0";b.top=b.left="0px";var b=J("div",{"class":"BMap_mask"}),c=b.style;c.position="absolute";c.top=c.left="0px";c.zIndex="9";c.overflow="hidden";c.WebkitUserSelect="none";a.appendChild(b);return a},Su:function(a){var b=a.style;b.overflow="hidden";"absolute"!=Da(a).position&&(b.position="relative",b.zIndex=0);b.backgroundColor="#F3F1EC";b.color="#000";b.textAlign="left"},P:function(){var a= this;a.Dn=function(){var b=a.Eb();if(a.width!=b.width||a.height!=b.height){var c=new L(a.width,a.height),d=new M("onbeforeresize");d.size=c;a.dispatchEvent(d);a.Lh((b.width-a.width)/2,(b.height-a.height)/2);a.de.style.width=(a.width=b.width)+"px";a.de.style.height=(a.height=b.height)+"px";c=new M("onresize");c.size=b;a.dispatchEvent(c)}};a.G.mr&&(a.F.Fn=setInterval(a.Dn,80))},Lh:function(a,b,c,d){var e=this.ja().Sb(this.V()),f=this.rd,g=i;c&&H.vD(c)&&(this.rf=new H(c.lng,c.lat),g=o);if(c=c&&d?f.Zj(c, this.wb):this.Vb)if(this.Vb=new H(c.lng+a*e,c.lat-b*e),(a=f.ii(this.Vb,this.wb))&&g)this.rf=a},ff:function(a,b){if(Ea(a)&&(a=this.Jk(a).zoom,a!=this.qa)){this.jc=this.qa;this.qa=a;var c;b?c=b:this.zf()&&(c=this.zf().W());c&&(c=this.zb(c,this.jc),this.Lh(this.width/2-c.x,this.height/2-c.y,this.eb(c,this.jc),i));this.dispatchEvent(new M("onzoomstart"));this.dispatchEvent(new M("onzoomstartcode"))}},dd:function(a){this.ff(a)},Dy:function(a){this.ff(this.qa+1,a)},Ey:function(a){this.ff(this.qa-1,a)}, af:function(a){a instanceof H&&(this.Vb=this.rd.Zj(a,this.wb),this.rf=H.vD(a)?new H(a.lng,a.lat):this.rd.ii(this.Vb,this.wb))},$e:function(a,b){a=Math.round(a)||0;b=Math.round(b)||0;this.Lh(-a,-b)},Kq:function(a){a&&Fa(a.qe)&&(a.qe(this),this.dispatchEvent(new M("onaddcontrol",a)))},IE:function(a){a&&Fa(a.remove)&&(a.remove(),this.dispatchEvent(new M("onremovecontrol",a)))},el:function(a){a&&Fa(a.ha)&&(a.ha(this),this.dispatchEvent(new M("onaddcontextmenu",a)))},Rl:function(a){a&&Fa(a.remove)&&(this.dispatchEvent(new M("onremovecontextmenu", a)),a.remove())},Ea:function(a){a&&Fa(a.qe)&&(a.qe(this),this.dispatchEvent(new M("onaddoverlay",a)))},Fb:function(a){a&&Fa(a.remove)&&(a.remove(),this.dispatchEvent(new M("onremoveoverlay",a)))},VB:function(){this.dispatchEvent(new M("onclearoverlays"))},of:function(a){a&&this.dispatchEvent(new M("onaddtilelayer",a))},Jf:function(a){a&&this.dispatchEvent(new M("onremovetilelayer",a))},ph:function(a){if(this.Mb!==a){var b=new M("onsetmaptype");b.GS=this.Mb;this.Mb=this.G.Mb=a;this.rd=this.Mb.Nj(); this.Lh(0,0,this.Fa(),i);this.yt();var c=this.Jk(this.V()).zoom;this.ff(c);this.dispatchEvent(b);b=new M("onmaptypechange");b.qa=c;b.Mb=a;this.dispatchEvent(b);(a===Ga||a===Aa)&&za(5003)}},De:function(a){var b=this;if(a instanceof H)b.af(a,{noAnimation:i});else if(Ha(a))if(b.Mb==ya){var c=C.sv[a];c&&(pt=c.m,b.De(pt))}else{var d=this.$z();d.gy(function(c){0==d.Oj()&&2==d.va.result.type&&(b.De(c.$h(0).point),ya.Wh(a)&&b.ay(a))});d.search(a,{log:"center"})}},Id:function(a,b){"[object Undefined]"!==Object.prototype.toString.call(b)&& (b=parseInt(b));sa=D()?Ia.yk.Ln(101):Ia.yk.Ln(1);sa.ny();sa.vc("script_loaded",pa-oa);sa.vc("centerAndZoom");var c=this;if(Ha(a))if(c.Mb==ya){var d=C.sv[a];d&&(pt=d.m,c.Id(pt,b))}else{var e=c.$z();e.gy(function(d){if(0==e.Oj()&&2==e.va.result.type){var d=d.$h(0).point,f=b||N.xw(e.va.content.level,c);c.Id(d,f);ya.Wh(a)&&c.ay(a)}});e.search(a,{log:"center"})}else if(a instanceof H&&b){b=c.Jk(b).zoom;c.jc=c.qa||b;c.qa=b;c.rf=new H(a.lng,a.lat);c.Vb=c.rd.Zj(c.rf,c.wb);c.Lv=c.Lv||c.qa;c.Kv=c.Kv||c.rf; var d=new M("onload"),f=new M("onloadcode");d.point=new H(a.lng,a.lat);d.pixel=c.zb(c.rf,c.qa);d.zoom=b;c.loaded||(c.loaded=i,c.dispatchEvent(d),qa||(qa=Ja()));c.dispatchEvent(f);c.dispatchEvent(new M("onmoveend"));c.jc!=c.qa&&c.dispatchEvent(new M("onzoomend"));c.G.pl&&c.pl()}},$z:function(){this.F.PD||(this.F.PD=new Ka(1));return this.F.PD},reset:function(){this.Id(this.Kv,this.Lv,i)},enableDragging:function(){this.G.Rb=i},disableDragging:function(){this.G.Rb=o},enableInertialDragging:function(){this.G.nr= i},disableInertialDragging:function(){this.G.nr=o},enableScrollWheelZoom:function(){this.G.$n=i},disableScrollWheelZoom:function(){this.G.$n=o},enableContinuousZoom:function(){this.G.Yn=i},disableContinuousZoom:function(){this.G.Yn=o},enableDoubleClickZoom:function(){this.G.fw=i},disableDoubleClickZoom:function(){this.G.fw=o},enableKeyboard:function(){this.G.or=i},disableKeyboard:function(){this.G.or=o},enablePinchToZoom:function(){this.G.Zn=i},disablePinchToZoom:function(){this.G.Zn=o},enableAutoResize:function(){this.G.mr= i;this.Dn();this.F.Fn||(this.F.Fn=setInterval(this.Dn,80))},disableAutoResize:function(){this.G.mr=o;this.F.Fn&&(clearInterval(this.F.Fn),this.F.Fn=n)},pl:function(){this.G.pl=i;this.Ck||(this.Ck=new La({FC:i}),this.of(this.Ck))},DL:function(){this.G.pl=o;this.Ck&&(this.Jf(this.Ck),this.Ck=n,delete this.Ck)},Eb:function(){return this.Rn&&this.Rn instanceof L?new L(this.Rn.width,this.Rn.height):new L(this.za.clientWidth,this.za.clientHeight)},Mc:function(a){a&&a instanceof L?(this.Rn=a,this.za.style.width= a.width+"px",this.za.style.height=a.height+"px"):this.Rn=n},Fa:s("rf"),V:s("qa"),XK:function(){this.Dn()},Jk:function(a){var b=this.G.Hc,c=this.G.nd,d=o;a<b&&(d=i,a=b);a>c&&(d=i,a=c);return{zoom:a,rw:d}},Ba:s("za"),zb:function(a,b){b=b||this.V();return this.rd.zb(a,b,this.Vb,this.Eb(),this.wb)},eb:function(a,b){b=b||this.V();return this.rd.eb(a,b,this.Vb,this.Eb(),this.wb)},Nd:function(a,b){if(a){var c=this.zb(new H(a.lng,a.lat),b);c.x-=this.offsetX;c.y-=this.offsetY;return c}},AE:function(a,b){if(a){var c= new O(a.x,a.y);c.x+=this.offsetX;c.y+=this.offsetY;return this.eb(c,b)}},pointToPixelFor3D:function(a,b){var c=map.wb;this.Mb==ya&&c&&Ma.$B(a,this,b)},BS:function(a,b){var c=map.wb;this.Mb==ya&&c&&Ma.ZB(a,this,b)},CS:function(a,b){var c=this,d=map.wb;c.Mb==ya&&d&&Ma.$B(a,c,function(a){a.x-=c.offsetX;a.y-=c.offsetY;b&&b(a)})},zS:function(a,b){var c=map.wb;this.Mb==ya&&c&&(a.x+=this.offsetX,a.y+=this.offsetY,Ma.ZB(a,this,b))},Ae:function(a){if(!this.ix())return new Na;var b=a||{},a=b.margins||[0,0, 0,0],c=b.zoom||n,b=this.eb({x:a[3],y:this.height-a[2]},c),a=this.eb({x:this.width-a[1],y:a[0]},c);return new Na(b,a)},ix:function(){return!!this.loaded},TH:function(a,b){for(var c=this.ja(),d=b.margins||[10,10,10,10],e=b.zoomFactor||0,f=d[1]+d[3],d=d[0]+d[2],g=c.tl(),j=c=c.Lj();j>=g;j--){var k=this.ja().Sb(j);if(a.xy().lng/k<this.width-f&&a.xy().lat/k<this.height-d)break}j+=e;j<g&&(j=g);j>c&&(j=c);return j},ro:function(a,b){var c={center:this.Fa(),zoom:this.V()};if(!a||!a instanceof Na&&0==a.length|| a instanceof Na&&a.lh())return c;var d=[];a instanceof Na?(d.push(a.Ld()),d.push(a.Wc())):d=a.slice(0);for(var b=b||{},e=[],f=0,g=d.length;f<g;f++)e.push(this.rd.Zj(d[f],this.wb));d=new Na;for(f=e.length-1;0<=f;f--)d.extend(e[f]);if(d.lh())return c;c=d.Fa();e=this.TH(d,b);b.margins&&(d=b.margins,f=(d[1]-d[3])/2,d=(d[0]-d[2])/2,g=this.ja().Sb(e),b.offset&&(f=b.offset.width,d=b.offset.height),c.lng+=g*f,c.lat+=g*d);c=this.rd.ii(c,this.wb);return{center:c,zoom:e}},Kf:function(a,b){var c;c=a&&a.center? a:this.ro(a,b);var b=b||{},d=b.delay||200;if(c.zoom==this.qa&&b.enableAnimation!=o){var e=this;setTimeout(function(){e.af(c.center,{duration:210})},d)}else this.Id(c.center,c.zoom)},Ue:s("hd"),zf:function(){return this.F.Ra&&this.F.Ra.Ca()?this.F.Ra:n},getDistance:function(a,b){if(a&&b){var c=0,c=P.eo(a,b);if(c==n||c==ba)c=0;return c}},Nw:function(){var a=[],b=this.ka,c=this.yd;if(b)for(var d in b)b[d]instanceof Oa&&a.push(b[d]);if(c){d=0;for(b=c.length;d<b;d++)a.push(c[d])}return a},ja:s("Mb"),lt:function(){for(var a= this.F.Nx;a<B.vn.length;a++)B.vn[a](this);this.F.Nx=a},ay:function(a){this.wb=ya.Wh(a);this.Vq=ya.LC(this.wb);this.Mb==ya&&this.rd instanceof Pa&&(this.rd.Ev=this.wb)},setDefaultCursor:function(a){this.G.xb=a;this.platform&&(this.platform.style.cursor=this.G.xb)},getDefaultCursor:function(){return this.G.xb},setDraggingCursor:function(a){this.G.Ec=a},getDraggingCursor:function(){return this.G.Ec},di:da(o),Mq:function(a,b){b?this.Xf[b]||(this.Xf[b]={}):b="custom";a.tag=b;a instanceof Qa&&(this.Xf[b][a.Q]= a,a.ha(this));var c=this;I.load("hotspot",function(){c.lt()})},FO:function(a,b){b||(b="custom");this.Xf[b][a.Q]&&delete this.Xf[b][a.Q]},tj:function(a){a||(a="custom");this.Xf[a]={}},yt:function(){var a=this.di()?this.Mb.k.pN:this.Mb.tl(),b=this.di()?this.Mb.k.oN:this.Mb.Lj(),c=this.G;c.Hc=c.AF||a;c.nd=c.zF||b;c.Hc<a&&(c.Hc=a);c.nd>b&&(c.nd=b)},setMinZoom:function(a){a>this.G.nd&&(a=this.G.nd);this.G.AF=a;this.mB()},setMaxZoom:function(a){a<this.G.Hc&&(a=this.G.Hc);this.G.zF=a;this.mB()},mB:function(){this.yt(); var a=this.G;this.qa<a.Hc?this.dd(a.Hc):this.qa>a.nd&&this.dd(a.nd);var b=new M("onzoomspanchange");b.Hc=a.Hc;b.nd=a.nd;this.dispatchEvent(b)},cS:s("dv"),getKey:function(){return na},Oo:function(a){var b=this;if(a){if(a.styleId)this.aD(a.styleId);else{b=this;a.styleJson&&(a.styleStr=b.IP(a.styleJson));D()&&t.R.OE?setTimeout(function(){b.G.md=a;b.dispatchEvent(new M("onsetcustomstyles",a))},50):(this.G.md=a,this.dispatchEvent(new M("onsetcustomstyles",a)),this.tD(b.G.md.geotableId));this.sD(a.controls); var c={style:a.style};a.features&&0<a.features.length&&(c.features=i);a.styleJson&&0<a.styleJson.length&&(c.styleJson=i);za(5050,c)}a.style&&(c=b.G.Jn[a.style]?b.G.Jn[a.style].backColor:b.G.Jn.normal.backColor)&&(this.Ba().style.backgroundColor=c)}},aD:function(a){var b=this;Ra(Sa+"style/poi/personalize?method=get&ak="+na+"&id="+a,function(a){if(a&&a.content&&0<a.content.length){var a=a.content[0],d={};a.features&&0<a.features.length&&(d.features=a.features);a.controllers&&0<a.controllers.length&& (d.controls=a.controllers);a.style&&""!=a.style&&(d.style=a.style);a.geotable_id&&""!=a.geotable_id&&(d.geotableId=a.geotable_id);setTimeout(function(){b.Oo(d)},200)}})},sD:function(a){this.controls||(this.controls={navigationControl:new Ua,scaleControl:new Va,overviewMapControl:new Wa,mapTypeControl:new Xa});var b=this,c;for(c in this.controls)b.IE(b.controls[c]);a=a||[];t.dc.uc(a,function(a){b.Kq(b.controls[a])})},tD:function(a){a?this.Pn&&this.Pn.Me==a||(this.Jf(this.Pn),this.Pn=new Ya({geotableId:a}), this.of(this.Pn)):this.Jf(this.Pn)},Hb:function(){var a=this.V()>=this.G.HF&&this.ja()==ua&&18>=this.V(),b=o;try{document.createElement("canvas").getContext("2d"),b=i}catch(c){b=o}return a&&b},getCurrentCity:function(){return{name:this.ll,code:this.mv}},getPanorama:s("L"),setPanorama:function(a){this.L=a;this.L.dy(this)},IP:function(a){for(var b={featureType:"t",elementType:"e",visibility:"v",color:"c",lightness:"l",saturation:"s",weight:"w",zoom:"z",hue:"h"},c={all:"all",geometry:"g","geometry.fill":"g.f", "geometry.stroke":"g.s",labels:"l","labels.text.fill":"l.t.f","labels.text.stroke":"l.t.s","lables.text":"l.t","labels.icon":"l.i"},d=[],e=0,f;f=a[e];e++){var g=f.stylers;delete f.stylers;t.extend(f,g);var g=[],j;for(j in b)f[j]&&("elementType"==j?g.push(b[j]+":"+c[f[j]]):g.push(b[j]+":"+f[j]));2<g.length&&d.push(g.join("|"))}return d.join(",")}}); function za(a,b){if(a){var b=b||{},c="",d;for(d in b)c=c+"&"+d+"="+encodeURIComponent(b[d]);var e=function(a){a&&(Za=i,setTimeout(function(){$a.src=Sa+"images/blank.gif?"+a.src},50))},f=function(){var a=ab.shift();a&&e(a)};d=(1E8*Math.random()).toFixed(0);Za?ab.push({src:"product=jsapi&sub_product=jsapi&v="+B.version+"&sub_product_v="+B.version+"&t="+d+"&code="+a+"&da_src="+a+c}):e({src:"product=jsapi&sub_product=jsapi&v="+B.version+"&sub_product_v="+B.version+"&t="+d+"&code="+a+"&da_src="+a+c}); bb||(t.D($a,"load",function(){Za=o;f()}),t.D($a,"error",function(){Za=o;f()}),bb=i)}}var Za,bb,ab=[],$a=new Image;za(5E3);B.mD={TILE_BASE_URLS:["ss0.baidu.com/5bwHcj7lABFU8t_jkk_Z1zRvfdw6buu","ss0.baidu.com/5bwHcj7lABFV8t_jkk_Z1zRvfdw6buu","ss0.baidu.com/5bwHcj7lABFS8t_jkk_Z1zRvfdw6buu","ss0.bdstatic.com/5bwHcj7lABFT8t_jkk_Z1zRvfdw6buu","ss0.bdstatic.com/5bwHcj7lABFY8t_jkk_Z1zRvfdw6buu"],TILE_ONLINE_URLS:["ss0.bdstatic.com/8bo_dTSlR1gBo1vgoIiO_jowehsv","ss0.bdstatic.com/8bo_dTSlRMgBo1vgoIiO_jowehsv","ss0.bdstatic.com/8bo_dTSlRcgBo1vgoIiO_jowehsv","ss0.bdstatic.com/8bo_dTSlRsgBo1vgoIiO_jowehsv","ss0.bdstatic.com/8bo_dTSlQ1gBo1vgoIiO_jowehsv"], TIlE_PERSPECT_URLS:["ss0.bdstatic.com/-OR1cTe9KgQFm2e88IuM_a","ss0.bdstatic.com/-ON1cTe9KgQFm2e88IuM_a","ss0.bdstatic.com/-OZ1cTe9KgQFm2e88IuM_a","ss0.bdstatic.com/-OV1cTe9KgQFm2e88IuM_a"],geolocControl:"p0.baidu.com/8LkJsjOpB1gCo2Kml5_Y_D3",TILES_YUN_HOST:["sp0.baidu.com/-eR1bSahKgkFkRGko9WTAnF6hhy","sp0.baidu.com/-eN1bSahKgkFkRGko9WTAnF6hhy","sp0.baidu.com/-eZ1bSahKgkFkRGko9WTAnF6hhy","sp0.baidu.com/-eV1bSahKgkFkRGko9WTAnF6hhy"],traffic:"sp0.baidu.com/7_AZsjOpB1gCo2Kml5_Y_D3",iw_pano:"ss0.bdstatic.com/5LUZemba_QUU8t7mm9GUKT-xh_", message:"sp0.baidu.com/7vo0bSba2gU2pMbgoY3K",baidumap:"sp0.baidu.com/80MWsjip0QIZ8tyhnq",wuxian:"sp0.baidu.com/6a1OdTeaKgQFm2e88IuM_a",pano:["ss0.bdstatic.com/5LUZemba_QUU8t7mm9GUKT-xh_","ss0.bdstatic.com/5LUZemfa_QUU8t7mm9GUKT-xh_","ss0.bdstatic.com/5LUZemja_QUU8t7mm9GUKT-xh_"],main_domain_nocdn:{baidu:"sp0.baidu.com/9_Q4sjOpB1gCo2Kml5_Y_D3",other:"sapi.map.baidu.com"},main_domain_cdn:{baidu:["ss0.bdstatic.com/9_Q4vHSd2RZ3otebn9fN2DJv","ss0.baidu.com/9_Q4vXSd2RZ3otebn9fN2DJv","ss0.bdstatic.com/9_Q4vnSd2RZ3otebn9fN2DJv"], other:["sapi.map.baidu.com"]},map_click:"sp0.baidu.com/80MWbzKh2wt3n2qy8IqW0jdnxx1xbK",vector_traffic:"ss0.bdstatic.com/8aZ1cTe9KgQIm2_p8IuM_a"}; B.tN={TILE_BASE_URLS:["shangetu0.map.bdimg.com","shangetu1.map.bdimg.com","shangetu2.map.bdimg.com","shangetu3.map.bdimg.com","shangetu4.map.bdimg.com"],TILE_ONLINE_URLS:["online0.map.bdimg.com","online1.map.bdimg.com","online2.map.bdimg.com","online3.map.bdimg.com","online4.map.bdimg.com"],TIlE_PERSPECT_URLS:["d0.map.baidu.com","d1.map.baidu.com","d2.map.baidu.com","d3.map.baidu.com"],geolocControl:"loc.map.baidu.com",TILES_YUN_HOST:["g0.api.map.baidu.com","g1.api.map.baidu.com","g2.api.map.baidu.com", "g3.api.map.baidu.com"],traffic:"its.map.baidu.com",iw_pano:"pcsv0.map.bdimg.com",message:"j.map.baidu.com",baidumap:"map.baidu.com",wuxian:"wuxian.baidu.com",pano:["pcsv0.map.bdimg.com","pcsv1.map.bdimg.com","pcsv2.map.bdimg.com"],main_domain_nocdn:{baidu:"api.map.baidu.com"},main_domain_cdn:{baidu:["api0.map.bdimg.com","api1.map.bdimg.com","api2.map.bdimg.com"]},map_click:"mapclick.map.baidu.com",vector_traffic:"or.map.bdimg.com"}; B.iQ={"0":{proto:"http://",domain:B.tN},1:{proto:"https://",domain:B.mD},2:{proto:"https://",domain:B.mD}};B.Ns=window.HOST_TYPE||"0";B.url=B.iQ[B.Ns];var cb=B.url.proto+B.url.domain.baidumap+"/",Sa=B.url.proto+("2"==B.Ns?B.url.domain.main_domain_nocdn.other:B.url.domain.main_domain_nocdn.baidu)+"/",Q=B.url.proto+("2"==B.Ns?B.url.domain.main_domain_cdn.other[0]:B.url.domain.main_domain_cdn.baidu[0])+"/";function db(a){var b={duration:1E3,Vc:30,Qh:0,le:eb.ND,cs:p()};this.Ge=[];if(a)for(var c in a)b[c]=a[c];this.k=b;if(Ea(b.Qh)){var d=this;setTimeout(function(){d.start()},b.Qh)}else b.Qh!=fb&&this.start()}var fb="INFINITE";db.prototype.start=function(){this.Ap=Ja();this.Nt=this.Ap+this.k.duration;gb(this)};db.prototype.add=fa(0); function gb(a){var b=Ja();b>=a.Nt?(Fa(a.k.ta)&&a.k.ta(a.k.le(1)),Fa(a.k.finish)&&a.k.finish(),0<a.Ge.length&&(b=a.Ge[0],b.Ge=[].concat(a.Ge.slice(1)),b.start())):(a.ts=a.k.le((b-a.Ap)/a.k.duration),Fa(a.k.ta)&&a.k.ta(a.ts),a.qy||(a.An=setTimeout(function(){gb(a)},1E3/a.k.Vc)))}db.prototype.stop=function(a){this.qy=i;for(var b=0;b<this.Ge.length;b++)this.Ge[b].stop(),this.Ge[b]=n;this.Ge.length=0;this.An&&(clearTimeout(this.An),this.An=n);this.k.cs(this.ts);a&&(this.Nt=this.Ap,gb(this))}; db.prototype.cancel=fa(2);var eb={ND:function(a){return a},reverse:function(a){return 1-a},bw:function(a){return a*a},$L:function(a){return Math.pow(a,3)},bM:function(a){return-(a*(a-2))},aM:function(a){return Math.pow(a-1,3)+1},xC:function(a){return 0.5>a?2*a*a:-2*(a-2)*a-1},AR:function(a){return 0.5>a?4*Math.pow(a,3):4*Math.pow(a-1,3)+1},BR:function(a){return(1-Math.cos(Math.PI*a))/2}};eb["ease-in"]=eb.bw;eb["ease-out"]=eb.bM;var C={Hy:34,Iy:21,Jy:new L(21,32),RF:new L(10,32),QF:new L(24,36),PF:new L(12,36),Fy:new L(13,1),da:Q+"images/",Gy:Q+"images/markers_new.png",NF:24,OF:73,sv:{"\u5317\u4eac":{hs:"bj",m:new H(116.403874,39.914889)},"\u4e0a\u6d77":{hs:"sh",m:new H(121.487899,31.249162)},"\u6df1\u5733":{hs:"sz",m:new H(114.025974,22.546054)},"\u5e7f\u5dde":{hs:"gz",m:new H(113.30765,23.120049)}},fontFamily:"arial,sans-serif"}; t.R.wf?(t.extend(C,{nC:"url("+C.da+"ruler.cur),crosshair",xb:"-moz-grab",Ec:"-moz-grabbing"}),t.platform.FD&&(C.fontFamily="arial,simsun,sans-serif")):t.R.TB||t.R.OE?t.extend(C,{nC:"url("+C.da+"ruler.cur) 2 6,crosshair",xb:"url("+C.da+"openhand.cur) 8 8,default",Ec:"url("+C.da+"closedhand.cur) 8 8,move"}):t.extend(C,{nC:"url("+C.da+"ruler.cur),crosshair",xb:"url("+C.da+"openhand.cur),default",Ec:"url("+C.da+"closedhand.cur),move"});function hb(a,b){var c=a.style;c.left=b[0]+"px";c.top=b[1]+"px"}function ib(a){0<t.R.aa?a.unselectable="on":a.style.MozUserSelect="none"}function jb(a){return a&&a.parentNode&&11!=a.parentNode.nodeType}function kb(a,b){t.A.Mr(a,"beforeEnd",b);return a.lastChild}function lb(a){for(var b={left:0,top:0};a&&a.offsetParent;)b.left+=a.offsetLeft,b.top+=a.offsetTop,a=a.offsetParent;return b}function x(a){a=window.event||a;a.stopPropagation?a.stopPropagation():a.cancelBubble=i} function mb(a){a=window.event||a;a.preventDefault?a.preventDefault():a.returnValue=o;return o}function ma(a){x(a);return mb(a)}function nb(){var a=document.documentElement,b=document.body;return a&&(a.scrollTop||a.scrollLeft)?[a.scrollTop,a.scrollLeft]:b?[b.scrollTop,b.scrollLeft]:[0,0]}function ob(a,b){if(a&&b)return Math.round(Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2)))}function pb(a,b){var c=[],b=b||function(a){return a},d;for(d in a)c.push(d+"="+b(a[d]));return c.join("&")} function J(a,b,c){var d=document.createElement(a);c&&(d=document.createElementNS(c,a));return t.A.Zx(d,b||{})}function Da(a){if(a.currentStyle)return a.currentStyle;if(a.ownerDocument&&a.ownerDocument.defaultView)return a.ownerDocument.defaultView.getComputedStyle(a,n)}function Fa(a){return"function"==typeof a}function Ea(a){return"number"==typeof a}function Ha(a){return"string"==typeof a}function qb(a){return"undefined"!=typeof a}function rb(a){return"object"==typeof a}var sb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="; function tb(a){var b="",c,d,e="",f,g="",j=0;f=/[^A-Za-z0-9\+\/\=]/g;if(!a||f.exec(a))return a;a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");do c=sb.indexOf(a.charAt(j++)),d=sb.indexOf(a.charAt(j++)),f=sb.indexOf(a.charAt(j++)),g=sb.indexOf(a.charAt(j++)),c=c<<2|d>>4,d=(d&15)<<4|f>>2,e=(f&3)<<6|g,b+=String.fromCharCode(c),64!=f&&(b+=String.fromCharCode(d)),64!=g&&(b+=String.fromCharCode(e));while(j<a.length);return b}var M=t.lang.Vs;function D(){return!(!t.platform.HN&&!t.platform.GN&&!t.platform.Gl)} function Ca(){return!(!t.platform.FD&&!t.platform.IN&&!t.platform.NN)}function Ja(){return(new Date).getTime()}function ub(){var a=document.body.appendChild(J("div"));a.innerHTML='<v:shape id="vml_tester1" adj="1" />';var b=a.firstChild;if(!b.style)return o;b.style.behavior="url(#default#VML)";b=b?"object"==typeof b.adj:i;a.parentNode.removeChild(a);return b}function vb(){return!!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Shape","1.1")} function wb(){return!!J("canvas").getContext}var Ia; (function(){function a(a){this.xK=a;this.timing={};this.start=+new Date}function b(a,b){if(a.length===+a.length)for(var c=0,d=a.length;c<d&&b.call(ba,c,a[c],a)!==o;c++);else for(c in a)if(a.hasOwnProperty(c)&&b.call(ba,c,a[c],a)===o)break}var c=[],d={push:function(a){c.push(a);if(window.localStorage&&window.JSON)try{localStorage.setItem("WPO_NR",JSON.stringify(c))}catch(b){}},get:function(a){var b=[];if(window.localStorage)try{a&&localStorage.removeItem("WPO_NR")}catch(d){}b=c;a&&(c=[]);return b}}, e,f,g,j,k={};(!window.localStorage||!window.JSON)&&document.attachEvent&&window.attachEvent("onbeforeunload",function(){l.send()});var l={send:function(a){var c=[],e=[],f=a||d.get(i),g;0<f.length&&(b(f,function(d,e){var f=[];b(e.timing,function(a,b){f.push('"'+a+'":'+b)});c.push('{"t":{'+f.join(",")+'},"a":'+e.xK+"}");!g&&(a&&e.start)&&(g=e.start)}),b(k,function(a,b){e.push(a+"="+b)}),e.push("d=["+c.join(",")+"]"),g?e.push("_st="+g):e.push("_t="+ +new Date),f=new Image,f.src="http://static.tieba.baidu.com/tb/pms/img/st.gif?"+ e.join("&"),window["___pms_img_"+1*new Date]=f)}};a.prototype={vc:function(a,b){this.timing[a]=0<=b?b:new Date-this.start},ny:function(){this.start=+new Date},dQ:function(){this.vc("tt")},JF:function(){this.vc("vt")},ns:function(){f&&(d.push(this),d.get().length>=g&&l.send())},error:p()};Ia={yk:{wo:function(a){var b=navigator.tR||navigator.oS||navigator.iT||{type:0};f=Math.random()<=(a.RO||0.01);g=a.max||5;j=a.nS||b.type;k={p:a.AO,mnt:j,b:50};window.localStorage&&(window.JSON&&window.addEventListener)&& (e=d.get(i),window.addEventListener("load",function(){l.send(e)},o))},Ln:function(b){return new a(b)}}}})();Ia.yk.wo({AO:18,RO:0.1,max:1});function Ra(a,b){if(b){var c=(1E5*Math.random()).toFixed(0);B._rd["_cbk"+c]=function(a){b&&b(a);delete B._rd["_cbk"+c]};a+="&callback=BMap._rd._cbk"+c}var d=J("script",{type:"text/javascript"});d.charset="utf-8";d.src=a;d.addEventListener?d.addEventListener("load",function(a){a=a.target;a.parentNode.removeChild(a)},o):d.attachEvent&&d.attachEvent("onreadystatechange",function(){var a=window.event.srcElement;a&&("loaded"==a.readyState||"complete"==a.readyState)&&a.parentNode.removeChild(a)});setTimeout(function(){document.getElementsByTagName("head")[0].appendChild(d); d=n},1)};var xb={map:"xc4faj",common:"j2j25b",tile:"ulth4z",groundoverlay:"zcqoir",marker:"rossm3",markeranimation:"ct3cmo",poly:"myckxm",draw:"kronb1",drawbysvg:"4oeo1o",drawbyvml:"0mwxnm",drawbycanvas:"yy5w3p",infowindow:"cnia2s",oppc:"wzpnr3",opmb:"wrjahb",menu:"y3w1jy",control:"ip50ax",navictrl:"yem3ct",geoctrl:"knkbvq", copyrightctrl:"wpvveg",scommon:"i40ypt",local:"vduz3i",route:"dx5zuc",othersearch:"oryrtv",mapclick:"pk1rwk",buslinesearch:"4w00nx",hotspot:"vmswfj",autocomplete:"m2pmgg",coordtrans:"uoviqq",coordtransutils:"erghgk",clayer:"20qkvc",panorama:"rz5tbb",panoramaservice:"jd2bnz",panoramaflash:"boxigd", vector:"twtjtw"};t.Js=function(){function a(a){return d&&!!c[b+a+"_"+xb[a]]}var b="BMap_",c=window.localStorage,d="localStorage"in window&&c!==n&&c!==ba;return{KN:d,set:function(a,f){if(d){for(var g=b+a+"_",j=c.length,k;j--;)k=c.key(j),-1<k.indexOf(g)&&c.removeItem(k);try{c.setItem(b+a+"_"+xb[a],f)}catch(l){c.clear()}}},get:function(e){return d&&a(e)?c.getItem(b+e+"_"+xb[e]):o},QB:a}}();function I(){} t.object.extend(I,{uh:{Uy:-1,tG:0,km:1},OC:function(){var a="drawbysvg";D()&&wb()?a="drawbycanvas":vb()?a="drawbysvg":ub()?a="drawbyvml":wb()&&(a="drawbycanvas");return{control:[],marker:[],poly:["marker",a],drawbysvg:["draw"],drawbyvml:["draw"],drawbycanvas:["draw"],infowindow:["common","marker"],menu:[],oppc:[],opmb:[],scommon:[],local:["scommon"],route:["scommon"],othersearch:["scommon"],autocomplete:["scommon"],mapclick:["scommon"],buslinesearch:["route"],hotspot:[],coordtransutils:["coordtrans"],clayer:["tile"], panoramaservice:[],panorama:["marker","panoramaservice"],panoramaflash:["panoramaservice"]}},FS:{},Ny:{BG:Q+"getmodules?v=2.0&t=20140707",cK:5E3},Mv:o,Pc:{Ri:{},Ak:[],uq:[]},load:function(a,b,c){var d=this.On(a);if(d.Tc==this.uh.km)c&&b();else{if(d.Tc==this.uh.Uy){this.XB(a);this.GE(a);var e=this;e.Mv==o&&(e.Mv=i,setTimeout(function(){for(var a=[],b=0,c=e.Pc.Ak.length;b<c;b++){var d=e.Pc.Ak[b],l="";ia.Js.QB(d)?l=ia.Js.get(d):(l="",a.push(d+"_"+xb[d]));e.Pc.uq.push({aE:d,xx:l})}e.Mv=o;e.Pc.Ak.length= 0;0==a.length?e.BC():Ra(e.Ny.BG+"&mod="+a.join(","))},1));d.Tc=this.uh.tG}d.Bp.push(b)}},XB:function(a){if(a&&this.OC()[a])for(var a=this.OC()[a],b=0;b<a.length;b++)this.XB(a[b]),this.Pc.Ri[a[b]]||this.GE(a[b])},GE:function(a){for(var b=0;b<this.Pc.Ak.length;b++)if(this.Pc.Ak[b]==a)return;this.Pc.Ak.push(a)},QO:function(a,b){var c=this.On(a);try{eval(b)}catch(d){return}c.Tc=this.uh.km;for(var e=0,f=c.Bp.length;e<f;e++)c.Bp[e]();c.Bp.length=0},QB:function(a,b){var c=this;c.timeout=setTimeout(function(){c.Pc.Ri[a].Tc!= c.uh.km?(c.remove(a),c.load(a,b)):clearTimeout(c.timeout)},c.Ny.cK)},On:function(a){this.Pc.Ri[a]||(this.Pc.Ri[a]={},this.Pc.Ri[a].Tc=this.uh.Uy,this.Pc.Ri[a].Bp=[]);return this.Pc.Ri[a]},remove:function(a){delete this.On(a)},UK:function(a,b){for(var c=this.Pc.uq,d=i,e=0,f=c.length;e<f;e++)""==c[e].xx&&(c[e].aE==a?c[e].xx=b:d=o);d&&this.BC()},BC:function(){for(var a=this.Pc.uq,b=0,c=a.length;b<c;b++)this.QO(a[b].aE,a[b].xx);this.Pc.uq.length=0}});function O(a,b){this.x=a||0;this.y=b||0;this.x=this.x;this.y=this.y}O.prototype.kb=function(a){return a&&a.x==this.x&&a.y==this.y};function L(a,b){this.width=a||0;this.height=b||0}L.prototype.kb=function(a){return a&&this.width==a.width&&this.height==a.height};function Qa(a,b){a&&(this.ab=a,this.Q="spot"+Qa.Q++,b=b||{},this.Tg=b.text||"",this.fq=b.offsets?b.offsets.slice(0):[5,5,5,5],this.nB=b.userData||n,this.$f=b.minZoom||n,this.te=b.maxZoom||n)}Qa.Q=0;t.extend(Qa.prototype,{ha:function(a){this.$f==n&&(this.$f=a.G.Hc);this.te==n&&(this.te=a.G.nd)},fa:function(a){a instanceof H&&(this.ab=a)},W:s("ab"),Uo:ca("Tg"),Sw:s("Tg"),setUserData:ca("nB"),getUserData:s("nB")});function R(){this.B=n;this.Db="control";this.Ya=this.JB=i}t.lang.ga(R,t.lang.ma,"Control"); t.extend(R.prototype,{initialize:function(a){this.B=a;if(this.C)return a.za.appendChild(this.C),this.C},qe:function(a){!this.C&&(this.initialize&&Fa(this.initialize))&&(this.C=this.initialize(a));this.k=this.k||{Hf:o};this.Su();this.mq();this.C&&(this.C.$m=this)},Su:function(){var a=this.C;if(a){var b=a.style;b.position="absolute";b.zIndex=this.ut||"10";b.MozUserSelect="none";b.WebkitTextSizeAdjust="none";this.k.Hf||t.A.ib(a,"BMap_noprint");D()||t.D(a,"contextmenu",ma)}},remove:function(){this.B= n;this.C&&(this.C.parentNode&&this.C.parentNode.removeChild(this.C),this.C=this.C.$m=n)},Ja:function(){this.C=kb(this.B.za,"<div unselectable='on'></div>");this.Ya==o&&t.A.H(this.C);return this.C},mq:function(){this.Yb(this.k.anchor)},Yb:function(a){if(this.hR||!Ea(a)||isNaN(a)||a<yb||3<a)a=this.defaultAnchor;this.k=this.k||{Hf:o};this.k.la=this.k.la||this.defaultOffset;var b=this.k.anchor;this.k.anchor=a;if(this.C){var c=this.C,d=this.k.la.width,e=this.k.la.height;c.style.left=c.style.top=c.style.right= c.style.bottom="auto";switch(a){case yb:c.style.top=e+"px";c.style.left=d+"px";break;case zb:c.style.top=e+"px";c.style.right=d+"px";break;case Ab:c.style.bottom=e+"px";c.style.left=d+"px";break;case 3:c.style.bottom=e+"px",c.style.right=d+"px"}c=["TL","TR","BL","BR"];t.A.lc(this.C,"anchor"+c[b]);t.A.ib(this.C,"anchor"+c[a])}},vw:function(){return this.k.anchor},sd:function(a){a instanceof L&&(this.k=this.k||{Hf:o},this.k.la=new L(a.width,a.height),this.C&&this.Yb(this.k.anchor))},Af:function(){return this.k.la}, Gc:s("C"),show:function(){this.Ya!=i&&(this.Ya=i,this.C&&t.A.show(this.C))},H:function(){this.Ya!=o&&(this.Ya=o,this.C&&t.A.H(this.C))},isPrintable:function(){return!!this.k.Hf},mh:function(){return!this.C&&!this.B?o:!!this.Ya}});var yb=0,zb=1,Ab=2;function Ua(a){R.call(this);a=a||{};this.k={Hf:o,jy:a.showZoomInfo||i,anchor:a.anchor,la:a.offset,type:a.type};this.defaultAnchor=D()?3:yb;this.defaultOffset=new L(10,10);this.Yb(a.anchor);this.pk(a.type);this.xd()}t.lang.ga(Ua,R,"NavigationControl");t.extend(Ua.prototype,{initialize:function(a){this.B=a;return this.C},pk:function(a){this.k.type=Ea(a)&&0<=a&&3>=a?a:0},Al:function(){return this.k.type},xd:function(){var a=this;I.load("navictrl",function(){a.ne()})}});function Bb(a){R.call(this);a=a||{};this.k={anchor:a.anchor,la:a.offset,zP:a.showAddressBar,yC:a.enableAutoLocation,TD:a.locationIcon};this.defaultAnchor=Ab;this.defaultOffset=new L(0,4);this.xd()}t.lang.ga(Bb,R,"GeolocationControl");t.extend(Bb.prototype,{initialize:function(a){this.B=a;return this.C},xd:function(){var a=this;I.load("geoctrl",function(){a.ne()})},getAddressComponent:function(){return this.AB||n},location:function(){this.k.yC=i}});function Cb(a){R.call(this);a=a||{};this.k={Hf:o,anchor:a.anchor,la:a.offset};this.rb=[];this.defaultAnchor=Ab;this.defaultOffset=new L(5,2);this.Yb(a.anchor);this.JB=o;this.xd()}t.lang.ga(Cb,R,"CopyrightControl"); t.object.extend(Cb.prototype,{initialize:function(a){this.B=a;return this.C},Lq:function(a){if(a&&Ea(a.id)&&!isNaN(a.id)){var b={bounds:n,content:""},c;for(c in a)b[c]=a[c];if(a=this.Jj(a.id))for(var d in b)a[d]=b[d];else this.rb.push(b)}},Jj:function(a){for(var b=0,c=this.rb.length;b<c;b++)if(this.rb[b].id==a)return this.rb[b]},Bw:s("rb"),Ox:function(a){for(var b=0,c=this.rb.length;b<c;b++)this.rb[b].id==a&&(r=this.rb.splice(b,1),b--,c=this.rb.length)},xd:function(){var a=this;I.load("copyrightctrl", function(){a.ne()})}});function Wa(a){R.call(this);a=a||{};this.k={Hf:o,size:a.size||new L(150,150),padding:5,Ca:a.isOpen===i?i:o,uQ:4,la:a.offset,anchor:a.anchor};this.defaultAnchor=3;this.defaultOffset=new L(0,0);this.Bm=this.Cm=13;this.Yb(a.anchor);this.Mc(this.k.size);this.xd()}t.lang.ga(Wa,R,"OverviewMapControl"); t.extend(Wa.prototype,{initialize:function(a){this.B=a;return this.C},Yb:function(a){R.prototype.Yb.call(this,a)},jd:function(){this.jd.Xk=i;this.k.Ca=!this.k.Ca;this.C||(this.jd.Xk=o)},Mc:function(a){a instanceof L||(a=new L(150,150));a.width=0<a.width?a.width:150;a.height=0<a.height?a.height:150;this.k.size=a},Eb:function(){return this.k.size},Ca:function(){return this.k.Ca},xd:function(){var a=this;I.load("control",function(){a.ne()})}});function Va(a){R.call(this);a=a||{};this.k={Hf:o,color:"black",nc:"metric",la:a.offset};this.defaultAnchor=Ab;this.defaultOffset=new L(81,18);this.Yb(a.anchor);this.gg={metric:{name:"metric",YB:1,rD:1E3,uF:"\u7c73",vF:"\u516c\u91cc"},us:{name:"us",YB:3.2808,rD:5280,uF:"\u82f1\u5c3a",vF:"\u82f1\u91cc"}};this.gg[this.k.nc]||(this.k.nc="metric");this.QA=n;this.wA={};this.xd()}t.lang.ga(Va,R,"ScaleControl"); t.object.extend(Va.prototype,{initialize:function(a){this.B=a;return this.C},$x:function(a){this.k.color=a+""},JR:function(){return this.k.color},iy:function(a){this.k.nc=this.gg[a]&&this.gg[a].name||this.k.nc},eN:function(){return this.k.nc},xd:function(){var a=this;I.load("control",function(){a.ne()})}});var Db=0;function Xa(a){R.call(this);a=a||{};this.defaultAnchor=zb;this.defaultOffset=new L(10,10);this.k={Hf:o,Df:[ua,Ga,Aa,ya],type:a.type||Db,la:a.offset||this.defaultOffset,GR:i};this.Yb(a.anchor);"[object Array]"==Object.prototype.toString.call(a.mapTypes)&&(this.k.Df=a.mapTypes.slice(0));this.xd()}t.lang.ga(Xa,R,"MapTypeControl");t.object.extend(Xa.prototype,{initialize:function(a){this.B=a;return this.C},xd:function(){var a=this;I.load("control",function(){a.ne()},i)}});function Eb(a){R.call(this);a=a||{};this.k={Hf:o,la:a.offset,anchor:a.anchor};this.Ng=o;this.wq=n;this.FA=new Fb({ql:"api"});this.GA=new Gb(n,{ql:"api"});this.defaultAnchor=zb;this.defaultOffset=new L(10,10);this.Yb(a.anchor);this.xd();za(5042)}t.lang.ga(Eb,R,"PanoramaControl");t.extend(Eb.prototype,{initialize:function(a){this.B=a;return this.C},xd:function(){var a=this;I.load("control",function(){a.ne()})}});function Hb(a){t.lang.ma.call(this);this.k={za:n,cursor:"default"};this.k=t.extend(this.k,a);this.Db="contextmenu";this.B=n;this.ia=[];this.ue=[];this.zd=[];this.fr=this.Nn=n;this.Yf=o;var b=this;I.load("menu",function(){b.Cb()})}t.lang.ga(Hb,t.lang.ma,"ContextMenu"); t.object.extend(Hb.prototype,{ha:function(a,b){this.B=a;this.Vi=b||n},remove:function(){this.B=this.Vi=n},Nq:function(a){if(a&&!("menuitem"!=a.Db||""==a.Tg||0>=a.hK)){for(var b=0,c=this.ia.length;b<c;b++)if(this.ia[b]===a)return;this.ia.push(a);this.ue.push(a)}},removeItem:function(a){if(a&&"menuitem"==a.Db){for(var b=0,c=this.ia.length;b<c;b++)this.ia[b]===a&&(this.ia[b].remove(),this.ia.splice(b,1),c--);b=0;for(c=this.ue.length;b<c;b++)this.ue[b]===a&&(this.ue[b].remove(),this.ue.splice(b,1),c--)}}, hv:function(){this.ia.push({Db:"divider",zh:this.zd.length});this.zd.push({A:n})},Qx:function(a){if(this.zd[a]){for(var b=0,c=this.ia.length;b<c;b++)this.ia[b]&&("divider"==this.ia[b].Db&&this.ia[b].zh==a)&&(this.ia.splice(b,1),c--),this.ia[b]&&("divider"==this.ia[b].Db&&this.ia[b].zh>a)&&this.ia[b].zh--;this.zd.splice(a,1)}},Gc:s("C"),show:function(){this.Yf!=i&&(this.Yf=i)},H:function(){this.Yf!=o&&(this.Yf=o)},cP:function(a){a&&(this.k.cursor=a)},getItem:function(a){return this.ue[a]}});function Ib(a,b,c){if(a&&Fa(b)){t.lang.ma.call(this);this.k={width:100,id:""};c=c||{};this.k.width=1*c.width?c.width:100;this.k.id=c.id?c.id:"";this.Tg=a+"";this.Pf=b;this.B=n;this.Db="menuitem";this.C=this.Sf=n;this.Vf=i;var d=this;I.load("menu",function(){d.Cb()})}}t.lang.ga(Ib,t.lang.ma,"MenuItem"); t.object.extend(Ib.prototype,{ha:function(a,b){this.B=a;this.Sf=b},remove:function(){this.B=this.Sf=n},Uo:function(a){a&&(this.Tg=a+"")},Gc:s("C"),enable:function(){this.Vf=i},disable:function(){this.Vf=o}});function Na(a,b){a&&!b&&(b=a);this.Dd=this.Cd=this.Hd=this.Gd=this.gj=this.Ui=n;a&&(this.gj=new H(a.lng,a.lat),this.Ui=new H(b.lng,b.lat),this.Hd=a.lng,this.Gd=a.lat,this.Dd=b.lng,this.Cd=b.lat)} t.object.extend(Na.prototype,{lh:function(){return!this.gj||!this.Ui},kb:function(a){return!(a instanceof Na)||this.lh()?o:this.Wc().kb(a.Wc())&&this.Ld().kb(a.Ld())},Wc:s("gj"),Ld:s("Ui"),hL:function(a){return!(a instanceof Na)||this.lh()||a.lh()?o:a.Hd>this.Hd&&a.Dd<this.Dd&&a.Gd>this.Gd&&a.Cd<this.Cd},Fa:function(){return this.lh()?n:new H((this.Hd+this.Dd)/2,(this.Gd+this.Cd)/2)},fx:function(a){if(!(a instanceof Na)||Math.max(a.Hd,a.Dd)<Math.min(this.Hd,this.Dd)||Math.min(a.Hd,a.Dd)>Math.max(this.Hd, this.Dd)||Math.max(a.Gd,a.Cd)<Math.min(this.Gd,this.Cd)||Math.min(a.Gd,a.Cd)>Math.max(this.Gd,this.Cd))return n;var b=Math.max(this.Hd,a.Hd),c=Math.min(this.Dd,a.Dd),d=Math.max(this.Gd,a.Gd),a=Math.min(this.Cd,a.Cd);return new Na(new H(b,d),new H(c,a))},iL:function(a){return!(a instanceof H)||this.lh()?o:a.lng>=this.Hd&&a.lng<=this.Dd&&a.lat>=this.Gd&&a.lat<=this.Cd},extend:function(a){if(a instanceof H){var b=a.lng,a=a.lat;this.gj||(this.gj=new H(0,0));this.Ui||(this.Ui=new H(0,0));if(!this.Hd|| this.Hd>b)this.gj.lng=this.Hd=b;if(!this.Dd||this.Dd<b)this.Ui.lng=this.Dd=b;if(!this.Gd||this.Gd>a)this.gj.lat=this.Gd=a;if(!this.Cd||this.Cd<a)this.Ui.lat=this.Cd=a}},xy:function(){return this.lh()?new H(0,0):new H(Math.abs(this.Dd-this.Hd),Math.abs(this.Cd-this.Gd))}});function H(a,b){isNaN(a)&&(a=tb(a),a=isNaN(a)?0:a);Ha(a)&&(a=parseFloat(a));isNaN(b)&&(b=tb(b),b=isNaN(b)?0:b);Ha(b)&&(b=parseFloat(b));this.lng=a;this.lat=b}H.vD=function(a){return a&&180>=a.lng&&-180<=a.lng&&74>=a.lat&&-74<=a.lat};H.prototype.kb=function(a){return a&&this.lat==a.lat&&this.lng==a.lng};function Jb(){}Jb.prototype.gi=function(){aa("lngLatToPoint\u65b9\u6cd5\u672a\u5b9e\u73b0")};Jb.prototype.oh=function(){aa("pointToLngLat\u65b9\u6cd5\u672a\u5b9e\u73b0")};function Kb(){};var Ma={$B:function(a,b,c){I.load("coordtransutils",function(){Ma.CK(a,b,c)},i)},ZB:function(a,b,c){I.load("coordtransutils",function(){Ma.BK(a,b,c)},i)}};function P(){}P.prototype=new Jb; t.extend(P,{ZF:6370996.81,Xy:[1.289059486E7,8362377.87,5591021,3481989.83,1678043.12,0],sp:[75,60,45,30,15,0],cG:[[1.410526172116255E-8,8.98305509648872E-6,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-0.03801003308653,1.73379812E7],[-7.435856389565537E-9,8.983055097726239E-6,-0.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,1.026014486E7],[-3.030883460898826E-8, 8.98305509983578E-6,0.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,0.32710905363475,6856817.37],[-1.981981304930552E-8,8.983055099779535E-6,0.03278182852591,40.31678527705744,0.65659298677277,-4.44255534477492,0.85341911805263,0.12923347998204,-0.04625736007561,4482777.06],[3.09191371068437E-9,8.983055096812155E-6,6.995724062E-5,23.10934304144901,-2.3663490511E-4,-0.6321817810242,-0.00663494467273,0.03430082397953,-0.00466043876332,2555164.4], [2.890871144776878E-9,8.983055095805407E-6,-3.068298E-8,7.47137025468032,-3.53937994E-6,-0.02145144861037,-1.234426596E-5,1.0322952773E-4,-3.23890364E-6,826088.5]],Vy:[[-0.0015702102444,111320.7020616939,1704480524535203,-10338987376042340,26112667856603880,-35149669176653700,26595700718403920,-10725012454188240,1800819912950474,82.5],[8.277824516172526E-4,111320.7020463578,6.477955746671607E8,-4.082003173641316E9,1.077490566351142E10,-1.517187553151559E10,1.205306533862167E10,-5.124939663577472E9, 9.133119359512032E8,67.5],[0.00337398766765,111320.7020202162,4481351.045890365,-2.339375119931662E7,7.968221547186455E7,-1.159649932797253E8,9.723671115602145E7,-4.366194633752821E7,8477230.501135234,52.5],[0.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-3.441963504368392E-4,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236, -2710.55326746645,1405.483844121726,22.5],[-3.218135878613132E-4,111320.7020701615,0.00369383431289,823725.6402795718,0.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,0.37238884252424,7.45]],NR:function(a,b){if(!a||!b)return 0;var c,d,a=this.vb(a);if(!a)return 0;c=this.yi(a.lng);d=this.yi(a.lat);b=this.vb(b);return!b?0:this.$d(c,this.yi(b.lng),d,this.yi(b.lat))},eo:function(a,b){if(!a||!b)return 0;a.lng=this.Jw(a.lng,-180,180);a.lat=this.Pw(a.lat,-74,74);b.lng=this.Jw(b.lng,-180, 180);b.lat=this.Pw(b.lat,-74,74);return this.$d(this.yi(a.lng),this.yi(b.lng),this.yi(a.lat),this.yi(b.lat))},vb:function(a){if(a===n||a===ba)return new H(0,0);var b,c;b=new H(Math.abs(a.lng),Math.abs(a.lat));for(var d=0;d<this.Xy.length;d++)if(b.lat>=this.Xy[d]){c=this.cG[d];break}a=this.aC(a,c);return a=new H(a.lng.toFixed(6),a.lat.toFixed(6))},jb:function(a){if(a===n||a===ba||180<a.lng||-180>a.lng||90<a.lat||-90>a.lat)return new H(0,0);var b,c;a.lng=this.Jw(a.lng,-180,180);a.lat=this.Pw(a.lat, -74,74);b=new H(a.lng,a.lat);for(var d=0;d<this.sp.length;d++)if(b.lat>=this.sp[d]){c=this.Vy[d];break}if(!c)for(d=this.sp.length-1;0<=d;d--)if(b.lat<=-this.sp[d]){c=this.Vy[d];break}a=this.aC(a,c);return a=new H(a.lng.toFixed(2),a.lat.toFixed(2))},aC:function(a,b){if(a&&b){var c=b[0]+b[1]*Math.abs(a.lng),d=Math.abs(a.lat)/b[9],d=b[2]+b[3]*d+b[4]*d*d+b[5]*d*d*d+b[6]*d*d*d*d+b[7]*d*d*d*d*d+b[8]*d*d*d*d*d*d,c=c*(0>a.lng?-1:1),d=d*(0>a.lat?-1:1);return new H(c,d)}},$d:function(a,b,c,d){return this.ZF* Math.acos(Math.sin(c)*Math.sin(d)+Math.cos(c)*Math.cos(d)*Math.cos(b-a))},yi:function(a){return Math.PI*a/180},YS:function(a){return 180*a/Math.PI},Pw:function(a,b,c){b!=n&&(a=Math.max(a,b));c!=n&&(a=Math.min(a,c));return a},Jw:function(a,b,c){for(;a>c;)a-=c-b;for(;a<b;)a+=c-b;return a}}); t.extend(P.prototype,{Zj:function(a){return P.jb(a)},gi:function(a){a=P.jb(a);return new O(a.lng,a.lat)},ii:function(a){return P.vb(a)},oh:function(a){a=new H(a.x,a.y);return P.vb(a)},zb:function(a,b,c,d,e){if(a)return a=this.Zj(a,e),b=this.Sb(b),new O(Math.round((a.lng-c.lng)/b+d.width/2),Math.round((c.lat-a.lat)/b+d.height/2))},eb:function(a,b,c,d,e){if(a)return b=this.Sb(b),this.ii(new H(c.lng+b*(a.x-d.width/2),c.lat-b*(a.y-d.height/2)),e)},Sb:function(a){return Math.pow(2,18-a)}});function Pa(){this.Ev="bj"}Pa.prototype=new P; t.extend(Pa.prototype,{Zj:function(a,b){return this.XG(b,P.jb(a))},ii:function(a,b){return P.vb(this.YG(b,a))},lngLatToPointFor3D:function(a,b){var c=this,d=P.jb(a);I.load("coordtrans",function(){var a=Kb.Mw(c.Ev||"bj",d),a=new O(a.x,a.y);b&&b(a)},i)},pointToLngLatFor3D:function(a,b){var c=this,d=new H(a.x,a.y);I.load("coordtrans",function(){var a=Kb.Lw(c.Ev||"bj",d),a=new H(a.lng,a.lat),a=P.vb(a);b&&b(a)},i)},XG:function(a,b){if(I.On("coordtrans").Tc==I.uh.km){var c=Kb.Mw(a||"bj",b);return new H(c.x, c.y)}I.load("coordtrans",p());return new H(0,0)},YG:function(a,b){if(I.On("coordtrans").Tc==I.uh.km){var c=Kb.Lw(a||"bj",b);return new H(c.lng,c.lat)}I.load("coordtrans",p());return new H(0,0)},Sb:function(a){return Math.pow(2,20-a)}});function Lb(){this.Db="overlay"}t.lang.ga(Lb,t.lang.ma,"Overlay");Lb.Rj=function(a){a*=1;return!a?0:-1E5*a<<1}; t.extend(Lb.prototype,{qe:function(a){if(!this.J&&Fa(this.initialize)&&(this.J=this.initialize(a)))this.J.style.WebkitUserSelect="none";this.draw()},initialize:function(){aa("initialize\u65b9\u6cd5\u672a\u5b9e\u73b0")},draw:function(){aa("draw\u65b9\u6cd5\u672a\u5b9e\u73b0")},remove:function(){this.J&&this.J.parentNode&&this.J.parentNode.removeChild(this.J);this.J=n;this.dispatchEvent(new M("onremove"))},H:function(){this.J&&t.A.H(this.J)},show:function(){this.J&&t.A.show(this.J)},mh:function(){return!this.J|| "none"==this.J.style.display||"hidden"==this.J.style.visibility?o:i}});B.Od(function(a){function b(a,b){var c=J("div"),g=c.style;g.position="absolute";g.top=g.left=g.width=g.height="0";g.zIndex=b;a.appendChild(c);return c}var c=a.F;c.ge=a.ge=b(a.platform,200);a.hd.uw=b(c.ge,800);a.hd.ux=b(c.ge,700);a.hd.GC=b(c.ge,600);a.hd.ox=b(c.ge,500);a.hd.XD=b(c.ge,400);a.hd.YD=b(c.ge,300);a.hd.qQ=b(c.ge,201);a.hd.Ur=b(c.ge,200)});function Oa(){t.lang.ma.call(this);Lb.call(this);this.map=n;this.Ya=i;this.$a=n;this.Ez=0}t.lang.ga(Oa,Lb,"OverlayInternal"); t.extend(Oa.prototype,{initialize:function(a){this.map=a;t.lang.ma.call(this,this.Q);return n},Kw:s("map"),draw:p(),remove:function(){this.map=n;t.lang.hr(this.Q);Lb.prototype.remove.call(this)},H:function(){this.Ya!=o&&(this.Ya=o)},show:function(){this.Ya!=i&&(this.Ya=i)},mh:function(){return!this.J?o:!!this.Ya},Ba:s("J"),RE:function(a){var a=a||{},b;for(b in a)this.z[b]=a[b]},Cs:ca("zIndex"),Uh:function(){this.z.Uh=i},FL:function(){this.z.Uh=o},el:ca("Ok"),Rl:function(){this.Ok=n}});function Mb(){this.map=n;this.ka={};this.yd=[]} B.Od(function(a){var b=new Mb;b.map=a;a.ka=b.ka;a.yd=b.yd;a.addEventListener("load",function(a){b.draw(a)});a.addEventListener("moveend",function(a){b.draw(a)});t.R.aa&&8>t.R.aa||"BackCompat"==document.compatMode?a.addEventListener("zoomend",function(a){setTimeout(function(){b.draw(a)},20)}):a.addEventListener("zoomend",function(a){b.draw(a)});a.addEventListener("maptypechange",function(a){b.draw(a)});a.addEventListener("addoverlay",function(a){a=a.target;if(a instanceof Oa)b.ka[a.Q]||(b.ka[a.Q]= a);else{for(var d=o,e=0,f=b.yd.length;e<f;e++)if(b.yd[e]===a){d=i;break}d||b.yd.push(a)}});a.addEventListener("removeoverlay",function(a){a=a.target;if(a instanceof Oa)delete b.ka[a.Q];else for(var d=0,e=b.yd.length;d<e;d++)if(b.yd[d]===a){b.yd.splice(d,1);break}});a.addEventListener("clearoverlays",function(){this.gc();for(var a in b.ka)b.ka[a].z.Uh&&(b.ka[a].remove(),delete b.ka[a]);a=0;for(var d=b.yd.length;a<d;a++)b.yd[a].Uh!=o&&(b.yd[a].remove(),b.yd[a]=n,b.yd.splice(a,1),a--,d--)});a.addEventListener("infowindowopen", function(){var a=this.$a;a&&(t.A.H(a.Jb),t.A.H(a.pb))});a.addEventListener("movestart",function(){this.zf()&&this.zf().WA()});a.addEventListener("moveend",function(){this.zf()&&this.zf().OA()})});Mb.prototype.draw=function(){if(B.nm){var a=B.nm.fo(this.map);"canvas"==a.Db&&a.canvas&&a.UG(a.canvas.getContext("2d"))}for(var b in this.ka)this.ka[b].draw();t.dc.uc(this.yd,function(a){a.draw()});this.map.F.Ra&&this.map.F.Ra.fa();B.nm&&a.fy()};function Nb(a){Oa.call(this);a=a||{};this.z={strokeColor:a.strokeColor||"#3a6bdb",Lf:a.strokeWeight||5,cf:a.strokeOpacity||0.65,strokeStyle:a.strokeStyle||"solid",Uh:a.enableMassClear===o?o:i,Zh:n,Mj:n,ze:a.enableEditing===i?i:o,fE:15,jQ:o,Vd:a.enableClicking===o?o:i};0>=this.z.Lf&&(this.z.Lf=5);if(0>this.z.cf||1<this.z.cf)this.z.cf=0.65;if(0>this.z.Gj||1<this.z.Gj)this.z.Gj=0.65;"solid"!=this.z.strokeStyle&&"dashed"!=this.z.strokeStyle&&(this.z.strokeStyle="solid");this.J=n;this.ot=new Na(0,0);this.Sd= [];this.Bb=[];this.xa={}}t.lang.ga(Nb,Oa,"Graph");Nb.yr=function(a){var b=[];if(!a)return b;Ha(a)&&t.dc.uc(a.split(";"),function(a){a=a.split(",");b.push(new H(a[0],a[1]))});"[object Array]"==Object.prototype.toString.apply(a)&&0<a.length&&(b=a);return b};Nb.Gx=[0.09,0.0050,1.0E-4,1.0E-5]; t.extend(Nb.prototype,{initialize:function(a){this.map=a;return n},draw:p(),yn:function(a){this.Sd.length=0;this.ca=Nb.yr(a).slice(0);this.Of()},td:function(a){this.yn(a)},Of:function(){if(this.ca){var a=this;a.ot=new Na;t.dc.uc(this.ca,function(b){a.ot.extend(b)})}},ld:s("ca"),ok:function(a,b){b&&this.ca[a]&&(this.Sd.length=0,this.ca[a]=new H(b.lng,b.lat),this.Of())},setStrokeColor:function(a){this.z.strokeColor=a},VM:function(){return this.z.strokeColor},To:function(a){0<a&&(this.z.Lf=a)},$C:function(){return this.z.Lf}, Ro:function(a){a==ba||(1<a||0>a)||(this.z.cf=a)},WM:function(){return this.z.cf},ws:function(a){1<a||0>a||(this.z.Gj=a)},vM:function(){return this.z.Gj},So:function(a){"solid"!=a&&"dashed"!=a||(this.z.strokeStyle=a)},ZC:function(){return this.z.strokeStyle},setFillColor:function(a){this.z.fillColor=a||""},uM:function(){return this.z.fillColor},Ae:s("ot"),remove:function(){this.map&&this.map.removeEventListener("onmousemove",this.Qp);Oa.prototype.remove.call(this);this.Sd.length=0},ze:function(){if(!(2> this.ca.length)){this.z.ze=i;var a=this;I.load("poly",function(){a.lj()},i)}},EL:function(){this.z.ze=o;var a=this;I.load("poly",function(){a.Oh()},i)}});function Ob(a){Oa.call(this);this.J=this.map=n;this.z={width:0,height:0,la:new L(0,0),opacity:1,background:"transparent",Qr:1,MD:"#000",UN:"solid",S:n};this.RE(a);this.S=this.z.S}t.lang.ga(Ob,Oa,"Division"); t.extend(Ob.prototype,{Fi:function(){var a=this.z,b=this.content,c=['<div class="BMap_Division" style="position:absolute;'];c.push("width:"+a.width+"px;display:block;");c.push("overflow:hidden;");"none"!=a.borderColor&&c.push("border:"+a.Qr+"px "+a.UN+" "+a.MD+";");c.push("opacity:"+a.opacity+"; filter:(opacity="+100*a.opacity+")");c.push("background:"+a.background+";");c.push('z-index:60;">');c.push(b);c.push("</div>");this.J=kb(this.map.Ue().ux,c.join(""))},initialize:function(a){this.map=a;this.Fi(); this.J&&t.D(this.J,D()?"touchstart":"mousedown",function(a){x(a)});return this.J},draw:function(){var a=this.map.Nd(this.z.S);this.z.la=new L(-Math.round(this.z.width/2)-Math.round(this.z.Qr),-Math.round(this.z.height/2)-Math.round(this.z.Qr));this.J.style.left=a.x+this.z.la.width+"px";this.J.style.top=a.y+this.z.la.height+"px"},W:function(){return this.z.S},RQ:function(){return this.map.zb(this.W())},fa:function(a){this.z.S=a;this.draw()},dP:function(a,b){this.z.width=Math.round(a);this.z.height= Math.round(b);this.J&&(this.J.style.width=this.z.width+"px",this.J.style.height=this.z.height+"px",this.draw())}});function Pb(a,b,c){a&&b&&(this.imageUrl=a,this.size=b,a=new L(Math.floor(b.width/2),Math.floor(b.height/2)),c=c||{},a=c.anchor||a,b=c.imageOffset||new L(0,0),this.imageSize=c.imageSize,this.anchor=a,this.imageOffset=b,this.infoWindowAnchor=c.infoWindowAnchor||this.anchor,this.printImageUrl=c.printImageUrl||"")} t.extend(Pb.prototype,{lP:function(a){a&&(this.imageUrl=a)},vP:function(a){a&&(this.printImageUrl=a)},Mc:function(a){a&&(this.size=new L(a.width,a.height))},Yb:function(a){a&&(this.anchor=new L(a.width,a.height))},No:function(a){a&&(this.imageOffset=new L(a.width,a.height))},nP:function(a){a&&(this.infoWindowAnchor=new L(a.width,a.height))},jP:function(a){a&&(this.imageSize=new L(a.width,a.height))},toString:da("Icon")});function Qb(a,b){t.lang.ma.call(this);this.content=a;this.map=n;b=b||{};this.z={width:b.width||0,height:b.height||0,maxWidth:b.maxWidth||600,la:b.offset||new L(0,0),title:b.title||"",wx:b.maxContent||"",uf:b.enableMaximize||o,Xn:b.enableAutoPan===o?o:i,ew:b.enableCloseOnClick===o?o:i,margin:b.margin||[10,10,40,10],yv:b.collisions||[[10,10],[10,10],[10,10],[10,10]],uN:o,lO:b.onClosing||da(i),hw:b.enableMessage===o?o:i,kw:b.enableParano===i?i:o,message:b.message,lw:b.enableSearchTool===i?i:o,Hr:b.headerContent|| ""};if(0!=this.z.width&&(220>this.z.width&&(this.z.width=220),730<this.z.width))this.z.width=730;if(0!=this.z.height&&(60>this.z.height&&(this.z.height=60),650<this.z.height))this.z.height=650;if(0!=this.z.maxWidth&&(220>this.z.maxWidth&&(this.z.maxWidth=220),730<this.z.maxWidth))this.z.maxWidth=730;this.Yc=o;this.Dg=C.da;this.Oa=n;var c=this;I.load("infowindow",function(){c.Cb()})}t.lang.ga(Qb,t.lang.ma,"InfoWindow"); t.extend(Qb.prototype,{setWidth:function(a){!a&&0!=a||(isNaN(a)||0>a)||(0!=a&&(220>a&&(a=220),730<a&&(a=730)),this.z.width=a)},setHeight:function(a){!a&&0!=a||(isNaN(a)||0>a)||(0!=a&&(60>a&&(a=60),650<a&&(a=650)),this.z.height=a)},VE:function(a){!a&&0!=a||(isNaN(a)||0>a)||(0!=a&&(220>a&&(a=220),730<a&&(a=730)),this.z.maxWidth=a)},Nb:function(a){this.z.title=a},getTitle:function(){return this.z.title},mc:ca("content"),Xh:s("content"),Po:function(a){this.z.wx=a+""},cd:p(),Xn:function(){this.z.Xn=i}, disableAutoPan:function(){this.z.Xn=o},enableCloseOnClick:function(){this.z.ew=i},disableCloseOnClick:function(){this.z.ew=o},uf:function(){this.z.uf=i},jr:function(){this.z.uf=o},show:function(){this.Ya=i},H:function(){this.Ya=o},close:function(){this.H()},Vr:function(){this.Yc=i},restore:function(){this.Yc=o},mh:function(){return this.Ca()},Ca:da(o),W:function(){if(this.Oa&&this.Oa.W)return this.Oa.W()},Af:function(){return this.z.la}}); ta.prototype.Wb=function(a,b){if(a instanceof Qb&&b instanceof H){var c=this.F;c.bk?c.bk.fa(b):(c.bk=new S(b,{icon:new Pb(C.da+"blank.gif",{width:1,height:1}),offset:new L(0,0),clickable:o}),c.bk.KH=1);this.Ea(c.bk);c.bk.Wb(a)}};ta.prototype.gc=function(){var a=this.F.Ra||this.F.Mi;a&&a.Oa&&a.Oa.gc()};Oa.prototype.Wb=function(a){this.map&&(this.map.gc(),a.Ya=i,this.map.F.Mi=a,a.Oa=this,t.lang.ma.call(a,a.Q))}; Oa.prototype.gc=function(){this.map&&this.map.F.Mi&&(this.map.F.Mi.Ya=o,t.lang.hr(this.map.F.Mi.Q),this.map.F.Mi=n)};function Rb(a,b){Oa.call(this);this.content=a;this.J=this.map=n;b=b||{};this.z={width:0,la:b.offset||new L(0,0),bm:{backgroundColor:"#fff",border:"1px solid #f00",padding:"1px",whiteSpace:"nowrap",font:"12px "+C.fontFamily,zIndex:"80",MozUserSelect:"none"},position:b.position||n,Uh:b.enableMassClear===o?o:i,Vd:i};0>this.z.width&&(this.z.width=0);qb(b.enableClicking)&&(this.z.Vd=b.enableClicking);this.S=this.z.position;var c=this;I.load("marker",function(){c.Cb()})}t.lang.ga(Rb,Oa,"Label"); t.extend(Rb.prototype,{W:function(){return this.bq?this.bq.W():this.S},fa:function(a){a instanceof H&&!this.Br()&&(this.S=this.z.position=new H(a.lng,a.lat))},mc:ca("content"),ey:function(a){0<=a&&1>=a&&(this.z.opacity=a)},sd:function(a){a instanceof L&&(this.z.la=new L(a.width,a.height))},Af:function(){return this.z.la},Nc:function(a){a=a||{};this.z.bm=t.extend(this.z.bm,a)},ti:function(a){return this.Nc(a)},Nb:function(a){this.z.title=a||""},getTitle:function(){return this.z.title},UE:function(a){this.S= (this.bq=a)?this.z.position=a.W():this.z.position=n},Br:function(){return this.bq||n},Xh:s("content")});function Sb(a,b){if(0!==arguments.length){Oa.apply(this,arguments);b=b||{};this.z={Va:a,opacity:b.opacity||1,Wj:b.Wj||"",ol:b.ol||1,nl:b.nl||18};var c=this;I.load("groundoverlay",function(){c.Cb()})}}t.lang.ga(Sb,Oa,"GroundOverlay"); t.extend(Sb.prototype,{setBounds:function(a){this.z.Va=a},getBounds:function(){return this.z.Va},setOpacity:function(a){this.z.opacity=a},getOpacity:function(){return this.z.opacity},setImageURL:function(a){this.z.Wj=a},getImageURL:function(){return this.z.Wj},setDispalyOnMinLevel:function(a){this.z.ol=a},getDispalyOnMinLevel:function(){return this.z.ol},setDispalyOnMaxLevel:function(a){this.z.nl=a},getDispalyOnMaxLevel:function(){return this.z.nl}});var Tb=new Pb(C.da+"marker_red_sprite.png",new L(19,25),{anchor:new L(10,25),infoWindowAnchor:new L(10,0)}),Ub=new Pb(C.da+"marker_red_sprite.png",new L(20,11),{anchor:new L(6,11),imageOffset:new L(-19,-13)}); function S(a,b){Oa.call(this);b=b||{};this.S=a;this.ym=this.map=n;this.z={la:b.offset||new L(0,0),Bf:b.icon||Tb,ui:Ub,title:b.title||"",label:n,GB:b.baseZIndex||0,Vd:i,lT:o,mx:o,Uh:b.enableMassClear===o?o:i,Rb:o,HE:b.raiseOnDrag===i?i:o,LE:o,Ec:b.draggingCursor||C.Ec,rotation:b.rotation||0};b.icon&&!b.shadow&&(this.z.ui=n);b.enableDragging&&(this.z.Rb=b.enableDragging);qb(b.enableClicking)&&(this.z.Vd=b.enableClicking);var c=this;I.load("marker",function(){c.Cb()})}S.yp=Lb.Rj(-90)+1E6;S.Sy=S.yp+1E6; t.lang.ga(S,Oa,"Marker"); t.extend(S.prototype,{ie:function(a){a instanceof Pb&&(this.z.Bf=a)},jo:function(){return this.z.Bf},Bs:function(a){a instanceof Pb&&(this.z.ui=a)},getShadow:function(){return this.z.ui},mk:function(a){this.z.label=a||n},SC:function(){return this.z.label},Rb:function(){this.z.Rb=i},Pv:function(){this.z.Rb=o},W:s("S"),fa:function(a){a instanceof H&&(this.S=new H(a.lng,a.lat))},yg:function(a,b){this.z.mx=!!a;a&&(this.jz=b||0)},Nb:function(a){this.z.title=a+""},getTitle:function(){return this.z.title},sd:function(a){a instanceof L&&(this.z.la=a)},Af:function(){return this.z.la},lk:ca("ym"),As:function(a){this.z.rotation=a},XC:function(){return this.z.rotation}});function Vb(a,b){Nb.call(this,b);b=b||{};this.z.Gj=b.fillOpacity?b.fillOpacity:0.65;this.z.fillColor=""==b.fillColor?"":b.fillColor?b.fillColor:"#fff";this.td(a);var c=this;I.load("poly",function(){c.Cb()})}t.lang.ga(Vb,Nb,"Polygon"); t.extend(Vb.prototype,{td:function(a,b){this.bl=Nb.yr(a).slice(0);var c=Nb.yr(a).slice(0);1<c.length&&c.push(new H(c[0].lng,c[0].lat));Nb.prototype.td.call(this,c,b)},ok:function(a,b){this.bl[a]&&(this.bl[a]=new H(b.lng,b.lat),this.ca[a]=new H(b.lng,b.lat),0==a&&!this.ca[0].kb(this.ca[this.ca.length-1])&&(this.ca[this.ca.length-1]=new H(b.lng,b.lat)),this.Of())},ld:function(){var a=this.bl;0==a.length&&(a=this.ca);return a}});function Wb(a,b){Nb.call(this,b);this.yn(a);var c=this;I.load("poly",function(){c.Cb()})}t.lang.ga(Wb,Nb,"Polyline");function Xb(a,b,c){this.S=a;this.Ga=Math.abs(b);Vb.call(this,[],c)}Xb.Gx=[0.01,1.0E-4,1.0E-5,4.0E-6];t.lang.ga(Xb,Vb,"Circle"); t.extend(Xb.prototype,{initialize:function(a){this.map=a;this.ca=this.Op(this.S,this.Ga);this.Of();return n},Fa:s("S"),De:function(a){a&&(this.S=a)},OM:s("Ga"),zs:function(a){this.Ga=Math.abs(a)},Op:function(a,b){if(!a||!b||!this.map)return[];for(var c=[],d=b/6378800,e=Math.PI/180*a.lat,f=Math.PI/180*a.lng,g=0;360>g;g+=9){var j=Math.PI/180*g,k=Math.asin(Math.sin(e)*Math.cos(d)+Math.cos(e)*Math.sin(d)*Math.cos(j)),j=new H(((f-Math.atan2(Math.sin(j)*Math.sin(d)*Math.cos(e),Math.cos(d)-Math.sin(e)*Math.sin(k))+ Math.PI)%(2*Math.PI)-Math.PI)*(180/Math.PI),k*(180/Math.PI));c.push(j)}d=c[0];c.push(new H(d.lng,d.lat));return c}});var Yb={};function Zb(a){this.map=a;this.$j=[];this.Fe=[];this.ef=[];this.PK=300;this.Mx=0;this.Xe={};this.Zg={};this.Ff=0;this.hx=i;this.gC={};this.aq=this.Gm(1);this.Ud=this.Gm(2);this.hn=this.Gm(3);a.platform.appendChild(this.aq);a.platform.appendChild(this.Ud);a.platform.appendChild(this.hn)}B.Od(function(a){var b=new Zb(a);b.ha();a.Ab=b}); t.extend(Zb.prototype,{ha:function(){var a=this,b=a.map;b.addEventListener("loadcode",function(){a.Rr()});b.addEventListener("addtilelayer",function(b){a.of(b)});b.addEventListener("removetilelayer",function(b){a.Jf(b)});b.addEventListener("setmaptype",function(b){a.ph(b)});b.addEventListener("zoomstartcode",function(b){a.tc(b)});b.addEventListener("setcustomstyles",function(b){a.Oo(b.target);a.Ze(i)})},Rr:function(){var a=this;if(t.R.aa)try{document.execCommand("BackgroundImageCache",o,i)}catch(b){}this.loaded|| a.Lr();a.Ze();this.loaded||(this.loaded=i,I.load("tile",function(){a.AG()}))},Lr:function(){for(var a=this.map.ja().an,b=0;b<a.length;b++){var c=new $b;t.extend(c,a[b]);this.$j.push(c);c.ha(this.map,this.aq)}},Gm:function(a){var b=J("div");b.style.position="absolute";b.style.overflow="visible";b.style.left=b.style.top="0";b.style.zIndex=a;return b},hf:function(){this.Ff--;var a=this;this.hx&&(this.map.dispatchEvent(new M("onfirsttileloaded")),this.hx=o);0==this.Ff&&(this.Ig&&(clearTimeout(this.Ig), this.Ig=n),this.Ig=setTimeout(function(){if(a.Ff==0){a.map.dispatchEvent(new M("ontilesloaded"));a.hx=i}a.Ig=n},80))},Tw:function(a,b){return"TILE-"+b.Q+"-"+a[0]+"-"+a[1]+"-"+a[2]},Jr:function(a){var b=a.fb;b&&jb(b)&&b.parentNode.removeChild(b);delete this.Xe[a.name];a.loaded||(ac(a),a.fb=n,a.ck=n)},zl:function(a,b,c){var d=this.map,e=d.ja(),f=d.qa,g=d.Vb,j=e.Sb(f),k=this.MC(),l=k[0],m=k[1],q=k[2],u=k[3],w=k[4],c="undefined"!=typeof c?c:0,e=e.k.Lb,k=d.Q.replace(/^TANGRAM_/,"");for(this.Ag?this.Ag.length= 0:this.Ag=[];l<q;l++)for(var z=m;z<u;z++){var A=l,G=z;this.Ag.push([A,G]);A=k+"_"+b+"_"+A+"_"+G+"_"+f;this.gC[A]=A}this.Ag.sort(function(a){return function(b,c){return 0.4*Math.abs(b[0]-a[0])+0.6*Math.abs(b[1]-a[1])-(0.4*Math.abs(c[0]-a[0])+0.6*Math.abs(c[1]-a[1]))}}([w[0]-1,w[1]-1]));g=[Math.round(-g.lng/j),Math.round(g.lat/j)];l=-d.offsetY+d.height/2;a.style.left=-d.offsetX+d.width/2+"px";a.style.top=l+"px";this.pj?this.pj.length=0:this.pj=[];l=0;for(d=a.childNodes.length;l<d;l++)z=a.childNodes[l], z.kA=o,this.pj.push(z);if(l=this.Bx)for(var y in l)delete l[y];else this.Bx={};this.qj?this.qj.length=0:this.qj=[];l=0;for(d=this.Ag.length;l<d;l++){y=this.Ag[l][0];j=this.Ag[l][1];z=0;for(m=this.pj.length;z<m;z++)if(q=this.pj[z],q.id==k+"_"+b+"_"+y+"_"+j+"_"+f){q.kA=i;this.Bx[q.id]=q;break}}l=0;for(d=this.pj.length;l<d;l++)q=this.pj[l],q.kA||this.qj.push(q);this.uy=[];z=(e+c)*this.map.G.devicePixelRatio;l=0;for(d=this.Ag.length;l<d;l++)y=this.Ag[l][0],j=this.Ag[l][1],u=y*e+g[0]-c/2,w=(-1-j)*e+g[1]- c/2,A=k+"_"+b+"_"+y+"_"+j+"_"+f,m=this.Bx[A],q=n,m?(q=m.style,q.left=u+"px",q.top=w+"px",m.jf||this.uy.push([y,j,m])):(0<this.qj.length?(m=this.qj.shift(),m.getContext("2d").clearRect(-c/2,-c/2,z,z),q=m.style):(m=document.createElement("canvas"),q=m.style,q.position="absolute",q.width=e+c+"px",q.height=e+c+"px",this.CD()&&(q.WebkitTransform="scale(1.001)"),m.setAttribute("width",z),m.setAttribute("height",z),a.appendChild(m)),m.id=A,q.left=u+"px",q.top=w+"px",-1<A.indexOf("bg")&&(u="#F3F1EC",this.map.G.Rq&& (u=this.map.G.Rq),q.background=u?u:""),this.uy.push([y,j,m])),m.style.visibility="";l=0;for(d=this.qj.length;l<d;l++)this.qj[l].style.visibility="hidden";return this.uy},CD:function(){return/M040/i.test(navigator.userAgent)},MC:function(){var a=this.map,b=a.ja(),c=a.qa;b.Sb(c);var c=b.eD(c),d=a.Vb,e=Math.ceil(d.lng/c),f=Math.ceil(d.lat/c),b=b.k.Lb,c=[e,f,(d.lng-e*c)/c*b,(d.lat-f*c)/c*b];return[c[0]-Math.ceil((a.width/2-c[2])/b),c[1]-Math.ceil((a.height/2-c[3])/b),c[0]+Math.ceil((a.width/2+c[2])/b), c[1]+Math.ceil((a.height/2+c[3])/b),c]},BP:function(a,b,c,d){var e=this;e.oR=b;var f=this.map.ja(),g=e.Tw(a,c),j=f.k.Lb,b=[a[0]*j+b[0],(-1-a[1])*j+b[1]],k=this.Xe[g];k&&k.fb?(hb(k.fb,b),d&&(d=new O(a[0],a[1]),f=this.map.G.md?this.map.G.md.style:"normal",d=c.getTilesUrl(d,a[2],f),k.loaded=o,bc(k,d)),k.loaded?this.hf():dc(k,function(){e.hf()})):(k=this.Zg[g])&&k.fb?(c.qb.insertBefore(k.fb,c.qb.lastChild),this.Xe[g]=k,hb(k.fb,b),d&&(d=new O(a[0],a[1]),f=this.map.G.md?this.map.G.md.style:"normal",d=c.getTilesUrl(d, a[2],f),k.loaded=o,bc(k,d)),k.loaded?this.hf():dc(k,function(){e.hf()})):(k=j*Math.pow(2,f.Lj()-a[2]),new H(a[0]*k,a[1]*k),d=new O(a[0],a[1]),f=this.map.G.md?this.map.G.md.style:"normal",d=c.getTilesUrl(d,a[2],f),k=new ec(this,d,b,a,c),dc(k,function(){e.hf()}),fc(k),this.Xe[g]=k)},hf:function(){this.Ff--;var a=this;0==this.Ff&&(this.Ig&&(clearTimeout(this.Ig),this.Ig=n),this.Ig=setTimeout(function(){if(a.Ff==0){a.map.dispatchEvent(new M("ontilesloaded"));if(ra){if(oa&&pa&&qa){var b=Ja(),c=a.map.Eb(); setTimeout(function(){za(5030,{load_script_time:pa-oa,load_tiles_time:b-qa,map_width:c.width,map_height:c.height,map_size:c.width*c.height})},1E4);sa.vc("img_fisrt_loaded");sa.vc("map_width",c.width);sa.vc("map_height",c.height);sa.vc("map_size",c.width*c.height);sa.ns()}ra=o}}a.Ig=n},80))},Tw:function(a,b){return this.map.ja()===ya?"TILE-"+b.Q+"-"+this.map.Vq+"-"+a[0]+"-"+a[1]+"-"+a[2]:"TILE-"+b.Q+"-"+a[0]+"-"+a[1]+"-"+a[2]},Jr:function(a){var b=a.fb;b&&(gc(b),jb(b)&&b.parentNode.removeChild(b)); delete this.Xe[a.name];a.loaded||(gc(b),ac(a),a.fb=n,a.ck=n)},Ze:function(a){var b=this;if(b.map.ja()==ya)I.load("coordtrans",function(){b.map.wb||(b.map.wb=ya.Wh(b.map.ll),b.map.Vq=ya.LC(b.map.wb));b.tA()},i);else{if(a&&a)for(var c in this.Zg)delete this.Zg[c];b.tA(a)}},tA:function(a){for(var b=this.$j.concat(this.Fe),c=b.length,d=0;d<c;d++){var e=b[d];if(e.Hc&&l.qa<e.Hc)break;if(e.Sq){var f=this.qb=e.qb;if(a){var g=f;if(g&&g.childNodes)for(var j=g.childNodes.length,k=j-1;0<=k;k--)j=g.childNodes[k], g.removeChild(j),j=n}if(this.map.Hb()){this.Ud.style.display="block";f.style.display="none";this.map.dispatchEvent(new M("vectorchanged"),{isvector:i});continue}else f.style.display="block",this.Ud.style.display="none",this.map.dispatchEvent(new M("vectorchanged"),{isvector:o})}if(!(e.Hl&&!this.map.Hb()||e.BD&&this.map.Hb())){var l=this.map,m=l.ja(),f=m.Nj(),j=l.qa,q=l.Vb;m==ya&&q.kb(new H(0,0))&&(q=l.Vb=f.Zj(l.rf,l.wb));var u=m.Sb(j),j=m.eD(j),f=Math.ceil(q.lng/j),g=Math.ceil(q.lat/j),w=m.k.Lb,j= [f,g,(q.lng-f*j)/j*w,(q.lat-g*j)/j*w],k=j[0]-Math.ceil((l.width/2-j[2])/w),f=j[1]-Math.ceil((l.height/2-j[3])/w),g=j[0]+Math.ceil((l.width/2+j[2])/w),z=0;m===ya&&15==l.V()&&(z=1);m=j[1]+Math.ceil((l.height/2+j[3])/w)+z;this.DB=new H(q.lng,q.lat);var A=this.Xe,w=-this.DB.lng/u,z=this.DB.lat/u,u=[Math.ceil(w),Math.ceil(z)],q=l.V(),G;for(G in A){var y=A[G],K=y.info;(K[2]!=q||K[2]==q&&(k>K[0]||g<=K[0]||f>K[1]||m<=K[1]))&&this.Jr(y)}A=-l.offsetX+l.width/2;y=-l.offsetY+l.height/2;e.qb&&(e.qb.style.left= Math.ceil(w+A)-u[0]+"px",e.qb.style.top=Math.ceil(z+y)-u[1]+"px");w=[];for(l.dv=[];k<g;k++)for(z=f;z<m;z++)w.push([k,z]),l.dv.push({x:k,y:z});w.sort(function(a){return function(b,c){return 0.4*Math.abs(b[0]-a[0])+0.6*Math.abs(b[1]-a[1])-(0.4*Math.abs(c[0]-a[0])+0.6*Math.abs(c[1]-a[1]))}}([j[0]-1,j[1]-1]));if(!e.FI){this.Ff+=w.length;k=0;for(j=w.length;k<j;k++)this.BP([w[k][0],w[k][1],q],u,e,a)}}}},of:function(a){var b=this,c=a.target,a=b.map.Hb();if(c instanceof La)a&&!c.Xj&&(c.ha(this.map,this.Ud), c.Xj=i);else if(c.df&&this.map.of(c.df),c.Hl){for(a=0;a<b.ef.length;a++)if(b.ef[a]==c)return;I.load("vector",function(){c.ha(b.map,b.Ud);b.ef.push(c)},i)}else{for(a=0;a<b.Fe.length;a++)if(b.Fe[a]==c)return;c.ha(this.map,this.hn);b.Fe.push(c)}},Jf:function(a){var a=a.target,b=this.map.Hb();if(a instanceof La)b&&a.Xj&&(a.remove(),a.Xj=o);else{a.df&&this.map.Jf(a.df);if(a.Hl)for(var b=0,c=this.ef.length;b<c;b++)a==this.ef[b]&&this.ef.splice(b,1);else{b=0;for(c=this.Fe.length;b<c;b++)a==this.Fe[b]&&this.Fe.splice(b, 1)}a.remove()}},ph:function(){for(var a=this.$j,b=0,c=a.length;b<c;b++)a[b].remove();delete this.qb;this.$j=[];this.Zg=this.Xe={};this.Lr();this.Ze()},tc:function(){var a=this;a.zc&&t.A.H(a.zc);setTimeout(function(){a.Ze();a.map.dispatchEvent(new M("onzoomend"))},10)},cT:p(),Oo:function(a){if(!this.map.Hb())for(var b=n,b="2"==B.Ns?[B.url.proto+B.url.domain.main_domain_cdn.other[0]+"/"]:[B.url.proto+B.url.domain.main_domain_cdn.baidu[0]+"/",B.url.proto+B.url.domain.main_domain_cdn.baidu[1]+"/",B.url.proto+ B.url.domain.main_domain_cdn.baidu[2]+"/"],c=0,d;d=this.$j[c];c++)if(d.xP==i){d.getTilesUrl=function(c,d){var g=c.x,j=c.y,k="customimage/tile?&x="+g+"&y="+j+"&z="+d+"&udt=20140717",k=a.styleStr?k+("&styles="+encodeURIComponent(a.styleStr)):k+("&customid="+a.style);return b[Math.abs(g+j)%b.length]+k};break}}});function ec(a,b,c,d,e){this.ck=a;this.position=c;this.Cp=[];this.name=a.Tw(d,e);this.info=d;this.lB=e.Bo();d=J("img");ib(d);d.IC=o;var f=d.style,a=a.map.ja();f.position="absolute";f.border="none";f.width=a.k.Lb+"px";f.height=a.k.Lb+"px";f.left=c[0]+"px";f.top=c[1]+"px";f.maxWidth="none";this.fb=d;this.src=b;hc&&(this.fb.style.opacity=0);var g=this;this.fb.onload=function(){g.loaded=i;if(g.ck){var a=g.ck,b=a.Zg;if(!b[g.name]){a.Mx++;b[g.name]=g}if(g.fb&&!jb(g.fb)&&e.qb){e.qb.appendChild(g.fb);if(t.R.aa<= 6&&t.R.aa>0&&g.lB)g.fb.style.cssText=g.fb.style.cssText+(';filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+g.src+'",sizingMethod=scale);')}var c=a.Mx-a.PK,d;for(d in b){if(c<=0)break;if(!a.Xe[d]){b[d].ck=n;var f=b[d].fb;if(f&&f.parentNode){f.parentNode.removeChild(f);gc(f)}f=n;b[d].fb=n;delete b[d];a.Mx--;c--}}hc&&new db({Vc:20,duration:200,ta:function(a){if(g.fb&&g.fb.style)g.fb.style.opacity=a*1},finish:function(){g.fb&&g.fb.style&&delete g.fb.style.opacity}});ac(g)}};this.fb.onerror= function(){ac(g);if(g.ck){var a=g.ck.map.ja();if(a.k.nw){g.error=i;g.fb.src=a.k.nw;g.fb&&!jb(g.fb)&&e.qb.appendChild(g.fb)}}};d=n}function dc(a,b){a.Cp.push(b)}function fc(a){a.fb.src=0<t.R.aa&&6>=t.R.aa&&a.lB?C.da+"blank.gif":""!==a.src&&a.fb.src==a.src?a.src+"&t = "+Date.now():a.src}function ac(a){for(var b=0;b<a.Cp.length;b++)a.Cp[b]();a.Cp.length=0} function gc(a){if(a){a.onload=a.onerror=n;var b=a.attributes,c,d,e;if(b){d=b.length;for(c=0;c<d;c+=1)e=b[c].name,Fa(a[e])&&(a[e]=n)}if(b=a.children){d=b.length;for(c=0;c<d;c+=1)gc(a.children[c])}}}function bc(a,b){a.src=b;fc(a)}var hc=!t.R.aa||8<t.R.aa;function $b(a){this.Nl=a||{};this.kL=this.Nl.copyright||n;this.gQ=this.Nl.transparentPng||o;this.Sq=this.Nl.baseLayer||o;this.zIndex=this.Nl.zIndex||0;this.Q=$b.uI++}$b.uI=0;t.lang.ga($b,t.lang.ma,"TileLayer"); t.extend($b.prototype,{ha:function(a,b){this.Sq&&(this.zIndex=-100);this.map=a;if(!this.qb){var c=J("div"),d=c.style;d.position="absolute";d.overflow="visible";d.zIndex=this.zIndex;d.left=Math.ceil(-a.offsetX+a.width/2)+"px";d.top=Math.ceil(-a.offsetY+a.height/2)+"px";b.appendChild(c);this.qb=c}c=a.ja();a.di()&&c==ua&&(c.k.Lb=128,d=function(a){return Math.pow(2,18-a)*2},c.Sb=d,c.k.rd.Sb=d)},remove:function(){this.qb&&this.qb.parentNode&&(this.qb.innerHTML="",this.qb.parentNode.removeChild(this.qb)); delete this.qb},Bo:s("gQ"),getTilesUrl:function(a,b){var c="";this.Nl.tileUrlTemplate&&(c=this.Nl.tileUrlTemplate.replace(/\{X\}/,a.x),c=c.replace(/\{Y\}/,a.y),c=c.replace(/\{Z\}/,b));return c},Jj:s("kL"),ja:function(){return this.Mb||ua}});function ic(a,b){rb(a)?b=a||{}:(b=b||{},b.databoxId=a);this.k={hC:b.databoxId,xf:b.geotableId,ls:b.q||"",dp:b.tags||"",filter:b.filter||"",Hs:b.sortby||"",HP:b.styleId||"",mj:b.ak||na,Qq:b.age||36E5,zIndex:11,SN:"VectorCloudLayer",ei:b.hotspotName||"vector_md_"+(1E5*Math.random()).toFixed(0),uK:"LBS\u4e91\u9ebb\u70b9\u5c42"};this.Hl=i;$b.call(this,this.k);this.yL=Sa+"geosearch/detail/";this.zL=Sa+"geosearch/v2/detail/";this.Cl={}}t.ga(ic,$b,"VectorCloudLayer");function kc(a){a=a||{};this.k=t.extend(a,{zIndex:1,SN:"VectorTrafficLayer",uK:"\u77e2\u91cf\u8def\u51b5\u5c42"});this.Hl=i;$b.call(this,this.k);this.cQ=B.url.proto+B.url.domain.vector_traffic+"/gvd/?qt=lgvd&styles=pl&layers=tf";this.cc={"0":[2,1354709503,2,2,0,[],0,0],1:[2,1354709503,3,2,0,[],0,0],10:[2,-231722753,2,2,0,[],0,0],11:[2,-231722753,3,2,0,[],0,0],12:[2,-231722753,4,2,0,[],0,0],13:[2,-231722753,5,2,0,[],0,0],14:[2,-231722753,6,2,0,[],0,0],15:[2,-1,4,0,0,[],0,0],16:[2,-1,5.5,0,0,[],0,0], 17:[2,-1,7,0,0,[],0,0],18:[2,-1,8.5,0,0,[],0,0],19:[2,-1,10,0,0,[],0,0],2:[2,1354709503,4,2,0,[],0,0],3:[2,1354709503,5,2,0,[],0,0],4:[2,1354709503,6,2,0,[],0,0],5:[2,-6350337,2,2,0,[],0,0],6:[2,-6350337,3,2,0,[],0,0],7:[2,-6350337,4,2,0,[],0,0],8:[2,-6350337,5,2,0,[],0,0],9:[2,-6350337,6,2,0,[],0,0]}}t.ga(kc,$b,"VectorTrafficLayer");function La(a){this.QK=[B.url.proto+B.url.domain.TILE_ONLINE_URLS[1]+"/gvd/?",B.url.proto+B.url.domain.TILE_ONLINE_URLS[2]+"/gvd/?",B.url.proto+B.url.domain.TILE_ONLINE_URLS[3]+"/gvd/?",B.url.proto+B.url.domain.TILE_ONLINE_URLS[4]+"/gvd/?"];this.k={FC:o};for(var b in a)this.k[b]=a[b];this.fg=this.Jg=this.ac=this.C=this.B=n;this.KD=0;var c=this;I.load("vector",function(){c.xd()})}t.extend(La.prototype,{ha:function(a,b){this.B=a;this.C=b},remove:function(){this.C=this.B=n}});function lc(a){$b.call(this,a);this.k=a||{};this.BD=i;this.df=new kc;this.df.Ls=this;if(this.k.predictDate){if(1>this.k.predictDate.weekday||7<this.k.predictDate.weekday)this.k.predictDate=1;if(0>this.k.predictDate.hour||23<this.k.predictDate.hour)this.k.predictDate.hour=0}this.bK=B.url.proto+B.url.domain.traffic+":8002/traffic/"}lc.prototype=new $b;lc.prototype.ha=function(a,b){$b.prototype.ha.call(this,a,b);this.B=a};lc.prototype.Bo=da(i); lc.prototype.getTilesUrl=function(a,b){var c="";this.k.predictDate?c="HistoryService?day="+(this.k.predictDate.weekday-1)+"&hour="+this.k.predictDate.hour+"&t="+(new Date).getTime()+"&":(c="TrafficTileService?time="+(new Date).getTime()+"&",this.B.di()||(c+="label=web2D&v=016&"));return(this.bK+c+"level="+b+"&x="+a.x+"&y="+a.y).replace(/-(\d+)/gi,"M$1")};var mc=[B.url.proto+B.url.domain.TILES_YUN_HOST[0]+"/georender/gss",B.url.proto+B.url.domain.TILES_YUN_HOST[1]+"/georender/gss",B.url.proto+B.url.domain.TILES_YUN_HOST[2]+"/georender/gss",B.url.proto+B.url.domain.TILES_YUN_HOST[3]+"/georender/gss"]; function Ya(a,b){$b.call(this);var c=this;this.BD=i;var d=o;try{document.createElement("canvas").getContext("2d"),d=i}catch(e){d=o}d&&(this.df=new ic(a,b),this.df.Ls=this);rb(a)?b=a||{}:(c.Im=a,b=b||{});b.geotableId&&(c.Me=b.geotableId);b.databoxId&&(c.Im=b.databoxId);d=Sa+"geosearch";c.Sc={rN:"http://"+d+"/detail/",sN:"http://"+d+"/v2/detail/",Qq:b.age||36E5,ls:b.q||"",SP:"png",dS:[5,5,5,5],QN:{backgroundColor:"#FFFFD5",borderColor:"#808080"},mj:b.ak||na,dp:b.tags||"",filter:b.filter||"",Hs:b.sortby|| "",ei:b.hotspotName||"tile_md_"+(1E5*Math.random()).toFixed(0)};I.load("clayer",function(){c.Qc()})}Ya.prototype=new $b;Ya.prototype.ha=function(a,b){$b.prototype.ha.call(this,a,b);this.B=a};Ya.prototype.getTilesUrl=function(a,b){var c=a.x,d=a.y,e=this.Sc,c=mc[Math.abs(c+d)%mc.length]+"/image?grids="+c+"_"+d+"_"+b+"&q="+e.ls+"&tags="+e.dp+"&filter="+e.filter+"&sortby="+e.Hs+"&ak="+this.Sc.mj+"&age="+e.Qq+"&format="+e.SP;this.Me?c+="&geotable_id="+this.Me:this.Im&&(c+="&databox_id="+this.Im);return c}; Ya.FJ=/^point\(|\)$/ig;Ya.GJ=/\s+/;Ya.IJ=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function nc(a,b,c){this.fn=a;this.an=b instanceof $b?[b]:b.slice(0);c=c||{};this.k={TP:c.tips||"",px:"",Hc:c.minZoom||3,nd:c.maxZoom||18,pN:c.minZoom||3,oN:c.maxZoom||18,Lb:256,RP:c.textColor||"black",nw:c.errorImageUrl||"",rd:c.projection||new P};1<=this.an.length&&(this.an[0].Sq=i);t.extend(this.k,c)} t.extend(nc.prototype,{getName:s("fn"),po:function(){return this.k.TP},RR:function(){return this.k.px},aN:function(){return this.an[0]},bS:s("an"),bN:function(){return this.k.Lb},tl:function(){return this.k.Hc},Lj:function(){return this.k.nd},setMaxZoom:function(a){this.k.nd=a},oo:function(){return this.k.RP},Nj:function(){return this.k.rd},OR:function(){return this.k.nw},bN:function(){return this.k.Lb},Sb:function(a){return Math.pow(2,18-a)},eD:function(a){return this.Sb(a)*this.k.Lb}}); var oc=[B.url.proto+B.url.domain.TILE_BASE_URLS[0]+"/it/",B.url.proto+B.url.domain.TILE_BASE_URLS[1]+"/it/",B.url.proto+B.url.domain.TILE_BASE_URLS[2]+"/it/",B.url.proto+B.url.domain.TILE_BASE_URLS[3]+"/it/",B.url.proto+B.url.domain.TILE_BASE_URLS[4]+"/it/"],pc=[B.url.proto+B.url.domain.TILE_ONLINE_URLS[0]+"/tile/",B.url.proto+B.url.domain.TILE_ONLINE_URLS[1]+"/tile/",B.url.proto+B.url.domain.TILE_ONLINE_URLS[2]+"/tile/",B.url.proto+B.url.domain.TILE_ONLINE_URLS[3]+"/tile/",B.url.proto+B.url.domain.TILE_ONLINE_URLS[4]+ "/tile/"],qc={dark:"dl",light:"ll",normal:"pl"},rc=new $b;rc.xP=i;rc.getTilesUrl=function(a,b,c){var d=a.x,a=a.y,e="pl";this.map.di();e=qc[c];return(pc[Math.abs(d+a)%pc.length]+"?qt=tile&x="+(d+"").replace(/-/gi,"M")+"&y="+(a+"").replace(/-/gi,"M")+"&z="+b+"&styles="+e+(6==t.R.aa?"&color_dep=32&colors=50":"")+"&udt=20140424").replace(/-(\d+)/gi,"M$1")};var ua=new nc("\u5730\u56fe",rc,{tips:"\u663e\u793a\u666e\u901a\u5730\u56fe"}),sc=new $b; sc.jF=[B.url.proto+B.url.domain.TIlE_PERSPECT_URLS[0]+"/resource/mappic/",B.url.proto+B.url.domain.TIlE_PERSPECT_URLS[1]+"/resource/mappic/",B.url.proto+B.url.domain.TIlE_PERSPECT_URLS[2]+"/resource/mappic/",B.url.proto+B.url.domain.TIlE_PERSPECT_URLS[3]+"/resource/mappic/"];sc.getTilesUrl=function(a,b){var c=a.x,d=a.y,e=256*Math.pow(2,20-b),d=Math.round((9998336-e*d)/e)-1;return url=this.jF[Math.abs(c+d)%this.jF.length]+this.map.wb+"/"+this.map.Vq+"/3/lv"+(21-b)+"/"+c+","+d+".jpg"}; var ya=new nc("\u4e09\u7ef4",sc,{tips:"\u663e\u793a\u4e09\u7ef4\u5730\u56fe",minZoom:15,maxZoom:20,textColor:"white",projection:new Pa});ya.Sb=function(a){return Math.pow(2,20-a)};ya.Wh=function(a){if(!a)return"";var b=C.sv,c;for(c in b)if(-1<a.search(c))return b[c].hs;return""};ya.LC=function(a){return{bj:2,gz:1,sz:14,sh:4}[a]};var tc=new $b({Sq:i}); tc.getTilesUrl=function(a,b){var c=a.x,d=a.y;return(oc[Math.abs(c+d)%oc.length]+"u=x="+c+";y="+d+";z="+b+";v=009;type=sate&fm=46").replace(/-(\d+)/gi,"M$1")};var Ga=new nc("\u536b\u661f",tc,{tips:"\u663e\u793a\u536b\u661f\u5f71\u50cf",minZoom:1,maxZoom:19,textColor:"white"}),uc=new $b({transparentPng:i}); uc.getTilesUrl=function(a,b){var c=a.x,d=a.y;return(pc[Math.abs(c+d)%pc.length]+"?qt=tile&x="+(c+"").replace(/-/gi,"M")+"&y="+(d+"").replace(/-/gi,"M")+"&z="+b+"&styles=sl"+(6==t.R.aa?"&color_dep=32&colors=50":"")+"&udt=20131219").replace(/-(\d+)/gi,"M$1")};var Aa=new nc("\u6df7\u5408",[tc,uc],{tips:"\u663e\u793a\u5e26\u6709\u8857\u9053\u7684\u536b\u661f\u5f71\u50cf",labelText:"\u8def\u7f51",minZoom:1,maxZoom:19,textColor:"white"});var vc=1,T={};window.xQ=T;function U(a,b){t.lang.ma.call(this);this.Bc={};this.nk(a);b=b||{};b.T=b.renderOptions||{};this.k={T:{ua:b.T.panel||n,map:b.T.map||n,pf:b.T.autoViewport||i,Lo:b.T.selectFirstResult,uo:b.T.highlightMode,Rb:b.T.enableDragging||o},bs:b.onSearchComplete||p(),sE:b.onMarkersSet||p(),rE:b.onInfoHtmlSet||p(),uE:b.onResultsHtmlSet||p(),qE:b.onGetBusListComplete||p(),pE:b.onGetBusLineComplete||p(),oE:b.onBusListHtmlSet||p(),nE:b.onBusLineHtmlSet||p(),Cx:b.onPolylinesSet||p(),Sl:b.reqFrom||""};this.k.T.pf="undefined"!= typeof b&&"undefined"!=typeof b.renderOptions&&"undefined"!=typeof b.renderOptions.autoViewport?b.renderOptions.autoViewport:i;this.k.T.ua=t.Ob(this.k.T.ua)}t.ga(U,t.lang.ma); t.extend(U.prototype,{getResults:function(){return this.Qb?this.Gg:this.U},enableAutoViewport:function(){this.k.T.pf=i},disableAutoViewport:function(){this.k.T.pf=o},nk:function(a){a&&(this.Bc.src=a)},gy:function(a){this.k.bs=a||p()},setMarkersSetCallback:function(a){this.k.sE=a||p()},setPolylinesSetCallback:function(a){this.k.Cx=a||p()},setInfoHtmlSetCallback:function(a){this.k.rE=a||p()},setResultsHtmlSetCallback:function(a){this.k.uE=a||p()},Oj:s("Tc")});var wc={jG:Sa,La:function(a,b,c,d,e){var f=(1E5*Math.random()).toFixed(0);B._rd["_cbk"+f]=function(b){c=c||{};a&&a(b,c);delete B._rd["_cbk"+f]};d=d||"";b=c&&c.xF?pb(b,encodeURI):pb(b,encodeURIComponent);d=this.jG+d+"?"+b+"&ie=utf-8&oue=1&fromproduct=jsapi";e||(d+="&res=api");Ra(d+("&callback=BMap._rd._cbk"+f))}};window.DQ=wc;B._rd={};var N={};window.CQ=N;N.JE=function(a){return a.replace(/<\/?b>/g,"")};N.tO=function(a){return a.replace(/([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0|[1-9]\d*),([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0|[1-9]\d*)(,)/g,"$1,$2;")};N.uO=function(a,b){return a.replace(RegExp("(((-?\\d+)(\\.\\d+)?),((-?\\d+)(\\.\\d+)?);)(((-?\\d+)(\\.\\d+)?),((-?\\d+)(\\.\\d+)?);){"+b+"}","ig"),"$1")};var xc=2,yc=3,zc=0,Ac="bt",Bc="nav",Cc="walk",Dc="bl",Ec="bsl",Fc=14,Hc=15,Ic=18,Jc=20,Kc=31;B.I=window.Instance=t.lang.Xc;function Lc(a,b,c){t.lang.ma.call(this);if(a){this.za="object"==typeof a?a:t.Ob(a);this.page=1;this.Ic=100;this.EB="pg";this.Ce=4;this.LB=b;this.update=i;a={page:1,ke:100,Ic:100,Ce:4,EB:"pg",update:i};c||(c=a);for(var d in c)"undefined"!=typeof c[d]&&(this[d]=c[d]);this.ta()}} t.extend(Lc.prototype,{ta:function(){this.ha()},ha:function(){this.VK();this.za.innerHTML=this.pL()},VK:function(){isNaN(parseInt(this.page))&&(this.page=1);isNaN(parseInt(this.Ic))&&(this.Ic=1);1>this.page&&(this.page=1);1>this.Ic&&(this.Ic=1);this.page>this.Ic&&(this.page=this.Ic);this.page=parseInt(this.page);this.Ic=parseInt(this.Ic)},VR:function(){location.search.match(RegExp("[?&]?"+this.EB+"=([^&]*)[&$]?","gi"));this.page=RegExp.$1},pL:function(){var a=[],b=this.page-1,c=this.page+1;a.push('<p style="margin:0;padding:0;white-space:nowrap">'); if(!(1>b)){if(this.page>=this.Ce){var d;a.push('<span style="margin-right:3px"><a style="color:#7777cc" href="javascript:void(0)" onclick="{temp1}">\u9996\u9875</a></span>'.replace("{temp1}","BMap.I('"+this.Q+"').toPage(1);"))}a.push('<span style="margin-right:3px"><a style="color:#7777cc" href="javascript:void(0)" onclick="{temp2}">\u4e0a\u4e00\u9875</a></span>'.replace("{temp2}","BMap.I('"+this.Q+"').toPage("+b+");"))}if(this.page<this.Ce)d=0==this.page%this.Ce?this.page-this.Ce-1:this.page-this.page% this.Ce+1,b=d+this.Ce-1;else{d=Math.floor(this.Ce/2);var e=this.Ce%2-1,b=this.Ic>this.page+d?this.page+d:this.Ic;d=this.page-d-e}this.page>this.Ic-this.Ce&&this.page>=this.Ce&&(d=this.Ic-this.Ce+1,b=this.Ic);for(e=d;e<=b;e++)0<e&&(e==this.page?a.push('<span style="margin-right:3px">'+e+"</span>"):1<=e&&e<=this.Ic&&(d='<span><a style="color:#7777cc;margin-right:3px" href="javascript:void(0)" onclick="{temp3}">['+e+"]</a></span>",a.push(d.replace("{temp3}","BMap.I('"+this.Q+"').toPage("+e+");")))); c>this.Ic||a.push('<span><a style="color:#7777cc" href="javascript:void(0)" onclick="{temp4}">\u4e0b\u4e00\u9875</a></span>'.replace("{temp4}","BMap.I('"+this.Q+"').toPage("+c+");"));a.push("</p>");return a.join("")},toPage:function(a){a=a?a:1;"function"==typeof this.LB&&(this.LB(a),this.page=a);this.update&&this.ta()}});function Ka(a,b){U.call(this,a,b);b=b||{};b.renderOptions=b.renderOptions||{};this.$l(b.pageCapacity);"undefined"!=typeof b.renderOptions.selectFirstResult&&!b.renderOptions.selectFirstResult?this.Qv():this.gw();this.ka=[];this.me=[];this.Pa=-1;this.wa=[];var c=this;I.load("local",function(){c.xt()},i)}t.ga(Ka,U,"LocalSearch");Ka.mm=10;Ka.AQ=1;Ka.xk=100;Ka.Qy=2E3;Ka.Wy=1E5; t.extend(Ka.prototype,{search:function(a,b){this.wa.push({method:"search",arguments:[a,b]})},kk:function(a,b,c){this.wa.push({method:"searchInBounds",arguments:[a,b,c]})},Yl:function(a,b,c,d){this.wa.push({method:"searchNearby",arguments:[a,b,c,d]})},Jd:function(){delete this.va;delete this.Tc;delete this.U;delete this.ba;this.Pa=-1;this.Xa();this.k.T.ua&&(this.k.T.ua.innerHTML="")},Sj:p(),gw:function(){this.k.T.Lo=i},Qv:function(){this.k.T.Lo=o},$l:function(a){this.k.li="number"==typeof a&&!isNaN(a)? 1>a?Ka.mm:a>Ka.xk?Ka.mm:a:Ka.mm},ae:function(){return this.k.li},toString:da("LocalSearch")});var Mc=Ka.prototype;V(Mc,{clearResults:Mc.Jd,setPageCapacity:Mc.$l,getPageCapacity:Mc.ae,gotoPage:Mc.Sj,searchNearby:Mc.Yl,searchInBounds:Mc.kk,search:Mc.search,enableFirstResultSelection:Mc.gw,disableFirstResultSelection:Mc.Qv});function Nc(a,b){U.call(this,a,b)}t.ga(Nc,U,"BaseRoute");t.extend(Nc.prototype,{Jd:p()});function Oc(a,b){U.call(this,a,b);b=b||{};this.Qo(b.policy);this.$l(b.pageCapacity);this.vd=Ac;this.up=Fc;this.ct=vc;this.ka=[];this.Pa=-1;this.wa=[];var c=this;I.load("route",function(){c.Qc()})}Oc.xk=100;Oc.$F=[0,1,0,0,0,0,0,0,2,0,0,0,1,1,1];t.ga(Oc,Nc,"TransitRoute"); t.extend(Oc.prototype,{Qo:function(a){this.k.qd=0<=a&&4>=a?a:0},iu:function(a,b){this.wa.push({method:"_internalSearch",arguments:[a,b]})},search:function(a,b){this.wa.push({method:"search",arguments:[a,b]})},$l:function(a){if("string"==typeof a&&(a=parseInt(a),isNaN(a))){this.k.li=Oc.xk;return}this.k.li="number"!=typeof a?Oc.xk:1<=a&&a<=Oc.xk?Math.round(a):Oc.xk},toString:da("TransitRoute"),QJ:function(a){return a.replace(/\(.*\)/,"")}});var Pc=Oc.prototype;V(Pc,{_internalSearch:Pc.iu});function Qc(a,b){U.call(this,a,b);this.ka=[];this.Pa=-1;this.wa=[];var c=this,d=this.k.T;1!=d.uo&&2!=d.uo&&(d.uo=1);this.Mt=this.k.T.Rb?i:o;I.load("route",function(){c.Qc()});this.dx&&this.dx()}Qc.mG=" \u73af\u5c9b \u65e0\u5c5e\u6027\u9053\u8def \u4e3b\u8def \u9ad8\u901f\u8fde\u63a5\u8def \u4ea4\u53c9\u70b9\u5185\u8def\u6bb5 \u8fde\u63a5\u9053\u8def \u505c\u8f66\u573a\u5185\u90e8\u9053\u8def \u670d\u52a1\u533a\u5185\u90e8\u9053\u8def \u6865 \u6b65\u884c\u8857 \u8f85\u8def \u531d\u9053 \u5168\u5c01\u95ed\u9053\u8def \u672a\u5b9a\u4e49\u4ea4\u901a\u533a\u57df POI\u8fde\u63a5\u8def \u96a7\u9053 \u6b65\u884c\u9053 \u516c\u4ea4\u4e13\u7528\u9053 \u63d0\u524d\u53f3\u8f6c\u9053".split(" "); t.ga(Qc,Nc,"DWRoute");t.extend(Qc.prototype,{search:function(a,b,c){this.wa.push({method:"search",arguments:[a,b,c]})}});function Rc(a,b){Qc.call(this,a,b);b=b||{};this.Qo(b.policy);this.vd=Bc;this.up=Jc;this.ct=yc}t.ga(Rc,Qc,"DrivingRoute");Rc.prototype.Qo=function(a){this.k.qd=0<=a&&2>=a?a:0};function Sc(a,b){Qc.call(this,a,b);this.vd=Cc;this.up=Kc;this.ct=xc;this.Mt=o}t.ga(Sc,Qc,"WalkingRoute");function Tc(a,b){t.lang.ma.call(this);this.Be=[];this.fk=[];this.k=b;this.lb=a;this.map=this.k.T.map||n;this.ss=this.k.ss;this.$a=n;this.ah=0;this.Is="";this.vf=1;this.qr="";this.Tl=[0,0,0,0,0,0,0];this.qx=[];this.Mn=[1,1,1,1,1,1,1];this.qF=[1,1,1,1,1,1,1];this.Jo=[0,0,0,0,0,0,0];this.Ul=[0,0,0,0,0,0,0];this.Xb=[{o:"",xe:0,tk:0,x:0,y:0,Gb:-1},{o:"",xe:0,tk:0,x:0,y:0,Gb:-1},{o:"",xe:0,tk:0,x:0,y:0,Gb:-1},{o:"",xe:0,tk:0,x:0,y:0,Gb:-1},{o:"",xe:0,tk:0,x:0,y:0,Gb:-1},{o:"",xe:0,tk:0,x:0,y:0,Gb:-1},{o:"", xe:0,tk:0,x:0,y:0,Gb:-1}];this.kg=-1;I.load("route",p())}t.lang.ga(Tc,t.lang.ma,"RouteAddr");function Uc(a){this.k={};t.extend(this.k,a);this.wa=[];var b=this;I.load("othersearch",function(){b.Qc()})}t.ga(Uc,t.lang.ma,"Geocoder");t.extend(Uc.prototype,{Ow:function(a,b,c){this.wa.push({method:"getPoint",arguments:[a,b,c]})},Ar:function(a,b,c){this.wa.push({method:"getLocation",arguments:[a,b,c]})},toString:da("Geocoder")});var Vc=Uc.prototype;V(Vc,{getPoint:Vc.Ow,getLocation:Vc.Ar});function Geolocation(a){this.k={};t.extend(this.k,a);this.wa=[];var b=this;I.load("othersearch",function(){b.Qc()})}t.extend(Geolocation.prototype,{getCurrentPosition:function(a,b){this.wa.push({method:"getCurrentPosition",arguments:[a,b]})},Oj:s("Tc")});var Wc=Geolocation.prototype;V(Wc,{getCurrentPosition:Wc.getCurrentPosition,getStatus:Wc.Oj});function Xc(a){a=a||{};a.T=a.renderOptions||{};this.k={T:{map:a.T.map||n}};this.wa=[];var b=this;I.load("othersearch",function(){b.Qc()})}t.ga(Xc,t.lang.ma,"LocalCity");t.extend(Xc.prototype,{get:function(a){this.wa.push({method:"get",arguments:[a]})},toString:da("LocalCity")});function Yc(){this.wa=[];var a=this;I.load("othersearch",function(){a.Qc()})}t.ga(Yc,t.lang.ma,"Boundary");t.extend(Yc.prototype,{get:function(a,b){this.wa.push({method:"get",arguments:[a,b]})},toString:da("Boundary")});function Zc(a,b){U.call(this,a,b);this.iG=Dc;this.lG=Hc;this.hG=Ec;this.kG=Ic;this.wa=[];var c=this;I.load("buslinesearch",function(){c.Qc()})}Zc.Up=C.da+"iw_plus.gif";Zc.yI=C.da+"iw_minus.gif";Zc.YJ=C.da+"stop_icon.png";t.ga(Zc,U); t.extend(Zc.prototype,{getBusList:function(a){this.wa.push({method:"getBusList",arguments:[a]})},getBusLine:function(a){this.wa.push({method:"getBusLine",arguments:[a]})},setGetBusListCompleteCallback:function(a){this.k.qE=a||p()},setGetBusLineCompleteCallback:function(a){this.k.pE=a||p()},setBusListHtmlSetCallback:function(a){this.k.oE=a||p()},setBusLineHtmlSetCallback:function(a){this.k.nE=a||p()},setPolylinesSetCallback:function(a){this.k.Cx=a||p()}});function $c(a){U.call(this,a);a=a||{};this.Sc={input:a.input||n,kv:a.baseDom||n,types:a.types||[],bs:a.onSearchComplete||p()};this.Bc.src=a.location||"\u5168\u56fd";this.Wg="";this.Qe=n;this.jA="";this.Mg();za(5011);var b=this;I.load("autocomplete",function(){b.Qc()})}t.ga($c,U,"Autocomplete");t.extend($c.prototype,{Mg:p(),show:p(),H:p(),hy:function(a){this.Sc.types=a},nk:function(a){this.Bc.src=a},search:ca("Wg"),xs:ca("jA")});var Ba;function wa(a,b){this.C="string"==typeof a?t.M(a):a;this.k={linksControl:i,enableScrollWheelZoom:i,navigationControl:i,panoramaRenderer:"flash",swfSrc:Sa+"res/swf/APILoader.swf",visible:i};var b=b||{},c;for(c in b)this.k[c]=b[c];this.Ia={heading:0,pitch:0};this.bn=[];this.ab=this.Ha=n;this.wn=this.Tm();this.ka=[];this.tc=1;this.Sk=this.QI=this.Ah="";this.Ed={};this.lf=[];this.mn=[];this.un=o;var d=this;Ca()&&!D()&&"javascript"!=b.panoramaRenderer?I.load("panoramaflash",function(){d.Mg()},i):I.load("panorama", function(){d.Cb()},i);this.oJ(this.C);za(5044,{type:b.panoramaRenderer});"api"==b.ql?za(5036):za(5039)}var ad=4,bd=1;t.lang.ga(wa,t.lang.ma,"Panorama"); t.extend(wa.prototype,{oJ:function(a){var b,c;b=a.style;c=Da(a).position;"absolute"!=c&&"relative"!=c&&(b.position="relative",b.zIndex=0);if("absolute"===c||"relative"===c)if(a=Da(a).zIndex,!a||"auto"===a)b.zIndex=0},BM:s("bn"),Kd:s("Ha"),cN:s("xq"),$E:s("xq"),W:s("ab"),Za:s("Ia"),V:s("tc"),Yh:s("Ah"),XR:function(){return this.ZQ||[]},TR:s("QI"),Lc:function(a,b){a!=this.Ha&&(this.Qi=this.Ha,this.Wp=this.ab,this.Ha=a,this.Sk=b||"street",this.ab=n)},fa:function(a){a.kb(this.ab)||(this.Qi=this.Ha,this.Wp= this.ab,this.ab=a,this.Ha=n)},je:function(a){this.Ia=a;a=this.Ia.pitch;"cvsRender"==this.Tm()?(90<a&&(a=90),-90>a&&(a=-90)):"cssRender"==this.Tm()&&(45<a&&(a=45),-45>a&&(a=-45));this.un=i;this.Ia.pitch=a},dd:function(a){a!=this.tc&&(a>ad&&(a=ad),a<bd&&(a=bd),a!=this.tc&&(this.tc=a))},Qu:function(){if(this.B)for(var a=this.B.Nw(),b=0;b<a.length;b++)(a[b]instanceof S||a[b]instanceof Rb)&&a[b].S&&this.ka.push(a[b])},dy:ca("B"),ci:function(){this.Wi.style.display="none"},Ds:function(){this.Wi.style.display= "block"},cM:function(){this.k.enableScrollWheelZoom=i},GL:function(){this.k.enableScrollWheelZoom=o},show:function(){this.k.visible=i},H:function(){this.k.visible=o},Tm:function(){return!D()&&wb()?"cvsRender":"cssRender"},Ea:function(a){this.Ed[a.Rd]=a},Fb:function(a){delete this.Ed[a]},dD:function(){return this.k.visible},dD:function(){return this.k.visible},gv:function(a){function b(a,b){return function(){a.mn.push({cE:b,bE:arguments})}}for(var c=a.getPanoMethodList(),d="",e=0,f=c.length;e<f;e++)d= c[e],this[d]=b(this,d);this.lf.push(a)},Px:function(a){for(var b=this.lf.length;b--;)this.lf[b]===a&&this.lf.splice(b,1)}});var W=wa.prototype;V(W,{setId:W.Lc,setPosition:W.fa,setPov:W.je,setZoom:W.dd,getId:W.Kd,getPosition:W.W,getPov:W.Za,getZoom:W.V,getLinks:W.BM,enableDoubleClickZoom:W.ER,disableDoubleClickZoom:W.xR,enableScrollWheelZoom:W.cM,disableScrollWheelZoom:W.GL,show:W.show,hide:W.H,addPlugin:W.gv,removePlugin:W.Px,getVisible:W.dD,addOverlay:W.Ea,removeOverlay:W.Fb});function cd(){t.lang.ma.call(this);this.Rd="PanoramaOverlay_"+this.Q;this.L=n;this.Ya=i}t.lang.ga(cd,t.lang.ma,"PanoramaOverlayBase");t.extend(cd.prototype,{UR:s("Rd"),ha:function(){aa("initialize\u65b9\u6cd5\u672a\u5b9e\u73b0")},remove:function(){aa("remove\u65b9\u6cd5\u672a\u5b9e\u73b0")},eg:function(){aa("_setOverlayProperty\u65b9\u6cd5\u672a\u5b9e\u73b0")}});function dd(a,b){cd.call(this);var c={position:n,altitude:2},b=b||{},d;for(d in b)c[d]=b[d];this.ab=c.position;this.yh=a;this.xm=c.altitude}t.lang.ga(dd,cd,"PanoramaLabel");t.extend(dd.prototype,{fa:function(a){this.ab=a;this.eg("position",a)},W:s("ab"),mc:function(a){this.yh=a;this.eg("content",a)},Xh:s("yh"),Xx:function(a){this.xm=a;this.eg("altitude",a)},tr:s("xm"),H:function(){aa("hide\u65b9\u6cd5\u672a\u5b9e\u73b0")},show:function(){aa("show\u65b9\u6cd5\u672a\u5b9e\u73b0")}});var ed=dd.prototype; V(ed,{setPosition:ed.fa,getPosition:ed.W,setContent:ed.mc,getContent:ed.Xh,setAltitude:ed.Xx,getAltitude:ed.tr,show:ed.show,hide:ed.H});function fd(a,b){cd.call(this);var c={icon:"",title:"",panoInfo:n,altitude:2},b=b||{},d;for(d in b)c[d]=b[d];this.ab=a;this.gA=c.icon;this.jB=c.title;this.xm=c.altitude;this.eJ=c.panoInfo}t.lang.ga(fd,cd,"PanoramaMarker");t.extend(fd.prototype,{fa:function(a){this.ab=a;this.eg("position",a)},W:s("ab"),Nb:function(a){this.jB=a;this.eg("title",a)},qo:s("jB"),ie:function(a){this.gA=icon;this.eg("icon",a)},jo:s("gA"),Xx:function(a){this.xm=a;this.eg("altitude",a)},tr:s("xm"),VC:s("eJ")});var gd=fd.prototype; V(gd,{setPosition:gd.fa,getPosition:gd.W,setTitle:gd.Nb,getTitle:gd.qo,setAltitude:gd.Xx,getAltitude:gd.tr,getPanoInfo:gd.VC,getIcon:gd.jo,setIcon:gd.ie});function Gb(a,b){this.L=a||n;var c=this;c.L&&c.P();I.load("panoramaservice",function(){c.QG()});"api"==(b||{}).ql?za(5037):za(5040)}B.Ex(function(a){new Gb(a,{ql:"api"})}); t.extend(Gb.prototype,{P:function(){function a(a){if(a){if(a.id!=b.xq){b.$E(a.id);var c=new M("ondataload");c.data=a;b.Ha=a.id;b.ab=a.position;b.WQ=a.mi;b.XQ=a.ni;b.Ah=a.description;b.bn=a.links;b.na=a;b.dispatchEvent(c);b.dispatchEvent(new M("onposition_changed"));b.dispatchEvent(new M("onlinks_changed"));a.qf?(t.A.show(b.Ot),t.A.H(b.Mk)):(t.A.H(b.Ot),t.A.show(b.Mk))}}else b.Ha=b.Qi,b.ab=b.Wp,b.dispatchEvent(new M("onnoresult"))}var b=this.L,c=this;b.addEventListener("id_changed",function(){c.wl(b.Kd(), a)});b.addEventListener("iid_changed",function(){c.Uk(Gb.wp+"qt=idcb&iid="+b.fu+"&fn=",function(b){if(b&&b.result&&0==b.result.error){var b=b.content[0].interinfo,e={};e.qf=b.BreakID;for(var f=b.Defaultfloor,g=n,j=0;j<b.Floors.length;j++)if(b.Floors[j].Floor==f){g=b.Floors[j];break}e.id=g.StartID||g.Points[0].PID;c.wl(e.id,a,e)}})});b.addEventListener("position_changed_inner",function(){c.fh(b.W(),a)})},wl:function(a,b){this.Ha=a;this.Pf=b;this.su=n},fh:function(a,b,c){this.su=a;this.pJ=b;this.Pf= c;this.Ha=n}});var hd=Gb.prototype;V(hd,{getPanoramaById:hd.wl,getPanoramaByLocation:hd.fh});function Fb(a){$b.call(this);"api"==(a||{}).ql?za(5038):za(5041)}Fb.az=["http://pcsv0.map.bdimg.com/tile/","http://pcsv1.map.bdimg.com/tile/"];Fb.prototype=new $b;Fb.prototype.getTilesUrl=function(a,b){return Fb.az[(a.x+a.y)%Fb.az.length]+"?udt=v&qt=tile&styles=pl&x="+a.x+"&y="+a.y+"&z="+b};Fb.prototype.Bo=da(i);id.Zf=new P;function id(){}t.extend(id,{IL:function(a,b,c){c=t.lang.Xc(c);b={data:b};"position_changed"==a&&(b.data=id.Zf.oh(new O(b.data.mercatorX,b.data.mercatorY)));c.dispatchEvent(new M("on"+a),b)}});var jd=id;V(jd,{dispatchFlashEvent:jd.IL});var kd={aG:50,vp:"http://pcsv0.map.bdimg.com",rp:{width:220,height:60}}; t.extend(kd,{Fl:function(a,b,c,d){if(!b||!c||!c.lngLat||!c.panoInstance)d();else{this.Tk===ba&&(this.Tk=new Gb);var e=this;this.Tk.WK(b,function(b){b?e.Tk.fh(c.lngLat,kd.aG,function(b){if(b&&b.id){var f=b.id,k=b.mi,b=b.ni,l=Gb.Zf.gi(c.lngLat),m=e.fI(l,{x:k,y:b}),k=e.JM(f,m,0,kd.rp.width,kd.rp.height);a.content=e.gI(a.content,k,c.titleTip,c.beforeDomId);a.addEventListener("open",function(){ia.D(t.Ob("infoWndPano"),"click",function(){c.panoInstance.Lc(f);c.panoInstance.show();c.panoInstance.je({heading:m, pitch:0})})})}d()}):d()})}},gI:function(a,b,c,d){var c=c||"",e;!d||!a.split(d)[0]?(d=a,a=""):(d=a.split(d)[0],e=d.lastIndexOf("<"),d=a.substring(0,e),a=a.substring(e));e=[];var f=kd.rp.width,g=kd.rp.height;e.push(d);e.push("<div id='infoWndPano' class='panoInfoBox' style='height:"+g+"px;width:"+f+"px; margin-top: -19px;'>");e.push("<img class='pano_thumnail_img' width='"+f+"' height='"+g+"' border='0' alt='"+c+"\u5916\u666f' title='"+c+"\u5916\u666f' src='"+b+"' onerror='Pano.PanoEntranceUtil.thumbnailNotFound(this, "+ f+", "+g+");' />");e.push("<div class='panoInfoBoxTitleBg' style='width:"+f+"px;'></div><a href='javascript:void(0)' class='panoInfoBoxTitleContent' >\u8fdb\u5165\u5168\u666f&gt;&gt;</a>");e.push("</div>");e.push(a);return e.join("")},fI:function(a,b){var c=90-180*Math.atan2(a.y-b.y,a.x-b.x)/Math.PI;0>c&&(c+=360);return c},JM:function(a,b,c,d,e){var f={panoId:a,panoHeading:b||0,panoPitch:c||0,width:d,height:e};return(kd.vp+"/?qt=pr3d&fovy=75&quality=80&panoid={panoId}&heading={panoHeading}&pitch={panoPitch}&width={width}&height={height}").replace(/\{(.*?)\}/g, function(a,b){return f[b]})}});B.Map=ta;B.Hotspot=Qa;B.MapType=nc;B.Point=H;B.Pixel=O;B.Size=L;B.Bounds=Na;B.TileLayer=$b;B.Projection=Jb;B.MercatorProjection=P;B.PerspectiveProjection=Pa;B.Copyright=function(a,b,c){this.id=a;this.Va=b;this.content=c};B.Overlay=Lb;B.Label=Rb;B.GroundOverlay=Sb;B.Marker=S;B.Icon=Pb;B.Polyline=Wb;B.Polygon=Vb;B.InfoWindow=Qb;B.Circle=Xb;B.Control=R;B.NavigationControl=Ua;B.GeolocationControl=Bb;B.OverviewMapControl=Wa;B.CopyrightControl=Cb;B.ScaleControl=Va;B.MapTypeControl=Xa; B.PanoramaControl=Eb;B.TrafficLayer=lc;B.CustomLayer=Ya;B.ContextMenu=Hb;B.MenuItem=Ib;B.LocalSearch=Ka;B.TransitRoute=Oc;B.DrivingRoute=Rc;B.WalkingRoute=Sc;B.Autocomplete=$c;B.Geocoder=Uc;B.LocalCity=Xc;B.Geolocation=Geolocation;B.BusLineSearch=Zc;B.Boundary=Yc;B.VectorCloudLayer=ic;B.VectorTrafficLayer=kc;B.Panorama=wa;B.PanoramaLabel=dd;B.PanoramaService=Gb;B.PanoramaCoverageLayer=Fb;B.PanoramaFlashInterface=id;function V(a,b){for(var c in b)a[c]=b[c]}V(window,{BMap:B,_jsload2:function(a,b){ia.Js.KN&&ia.Js.set(a,b);I.UK(a,b)},BMAP_API_VERSION:"2.0"});var X=ta.prototype; V(X,{getBounds:X.Ae,getCenter:X.Fa,getMapType:X.ja,getSize:X.Eb,setSize:X.Mc,getViewport:X.ro,getZoom:X.V,centerAndZoom:X.Id,panTo:X.af,panBy:X.$e,setCenter:X.De,setCurrentCity:X.ay,setMapType:X.ph,setViewport:X.Kf,setZoom:X.dd,highResolutionEnabled:X.di,zoomTo:X.ff,zoomIn:X.Dy,zoomOut:X.Ey,addHotspot:X.Mq,removeHotspot:X.FO,clearHotspots:X.tj,checkResize:X.XK,addControl:X.Kq,removeControl:X.IE,getContainer:X.Ba,addContextMenu:X.el,removeContextMenu:X.Rl,addOverlay:X.Ea,removeOverlay:X.Fb,clearOverlays:X.VB, openInfoWindow:X.Wb,closeInfoWindow:X.gc,pointToOverlayPixel:X.Nd,overlayPixelToPoint:X.AE,getInfoWindow:X.zf,getOverlays:X.Nw,getPanes:function(){return{floatPane:this.hd.uw,markerMouseTarget:this.hd.ux,floatShadow:this.hd.GC,labelPane:this.hd.ox,markerPane:this.hd.XD,markerShadow:this.hd.YD,mapPane:this.hd.Ur}},addTileLayer:X.of,removeTileLayer:X.Jf,pixelToPoint:X.eb,pointToPixel:X.zb,setFeatureStyle:X.by,selectBaseElement:X.RS,setMapStyle:X.Oo,enable3DBuilding:X.pl,disable3DBuilding:X.DL}); var ld=nc.prototype;V(ld,{getTileLayer:ld.aN,getMinZoom:ld.tl,getMaxZoom:ld.Lj,getProjection:ld.Nj,getTextColor:ld.oo,getTips:ld.po});V(window,{BMAP_NORMAL_MAP:ua,BMAP_PERSPECTIVE_MAP:ya,BMAP_SATELLITE_MAP:Ga,BMAP_HYBRID_MAP:Aa});var md=P.prototype;V(md,{lngLatToPoint:md.gi,pointToLngLat:md.oh});var nd=Pa.prototype;V(nd,{lngLatToPoint:nd.gi,pointToLngLat:nd.oh});var od=Na.prototype; V(od,{equals:od.kb,containsPoint:od.iL,containsBounds:od.hL,intersects:od.fx,extend:od.extend,getCenter:od.Fa,isEmpty:od.lh,getSouthWest:od.Wc,getNorthEast:od.Ld,toSpan:od.xy});var pd=Lb.prototype;V(pd,{isVisible:pd.mh,show:pd.show,hide:pd.H});Lb.getZIndex=Lb.Rj;var qd=Oa.prototype;V(qd,{openInfoWindow:qd.Wb,closeInfoWindow:qd.gc,enableMassClear:qd.Uh,disableMassClear:qd.FL,show:qd.show,hide:qd.H,getMap:qd.Kw,addContextMenu:qd.el,removeContextMenu:qd.Rl});var rd=S.prototype; V(rd,{setIcon:rd.ie,getIcon:rd.jo,setPosition:rd.fa,getPosition:rd.W,setOffset:rd.sd,getOffset:rd.Af,getLabel:rd.SC,setLabel:rd.mk,setTitle:rd.Nb,setTop:rd.yg,enableDragging:rd.Rb,disableDragging:rd.Pv,setZIndex:rd.Cs,getMap:rd.Kw,setAnimation:rd.lk,setShadow:rd.Bs,hide:rd.H,setRotation:rd.As,getRotation:rd.XC});V(window,{BMAP_ANIMATION_DROP:1,BMAP_ANIMATION_BOUNCE:2});var sd=Rb.prototype; V(sd,{setStyle:sd.Nc,setStyles:sd.ti,setContent:sd.mc,setPosition:sd.fa,getPosition:sd.W,setOffset:sd.sd,getOffset:sd.Af,setTitle:sd.Nb,setZIndex:sd.Cs,getMap:sd.Kw,getContent:sd.Xh});var td=Pb.prototype;V(td,{setImageUrl:td.lP,setSize:td.Mc,setAnchor:td.Yb,setImageOffset:td.No,setImageSize:td.jP,setInfoWindowAnchor:td.nP,setPrintImageUrl:td.vP});var ud=Qb.prototype; V(ud,{redraw:ud.cd,setTitle:ud.Nb,setContent:ud.mc,getContent:ud.Xh,getPosition:ud.W,enableMaximize:ud.uf,disableMaximize:ud.jr,isOpen:ud.Ca,setMaxContent:ud.Po,maximize:ud.Vr,enableAutoPan:ud.Xn});var vd=Nb.prototype; V(vd,{getPath:vd.ld,setPath:vd.td,setPositionAt:vd.ok,getStrokeColor:vd.VM,setStrokeWeight:vd.To,getStrokeWeight:vd.$C,setStrokeOpacity:vd.Ro,getStrokeOpacity:vd.WM,setFillOpacity:vd.ws,getFillOpacity:vd.vM,setStrokeStyle:vd.So,getStrokeStyle:vd.ZC,getFillColor:vd.uM,getBounds:vd.Ae,enableEditing:vd.ze,disableEditing:vd.EL});var wd=Xb.prototype;V(wd,{setCenter:wd.De,getCenter:wd.Fa,getRadius:wd.OM,setRadius:wd.zs});var xd=Vb.prototype;V(xd,{getPath:xd.ld,setPath:xd.td,setPositionAt:xd.ok}); var yd=Qa.prototype;V(yd,{getPosition:yd.W,setPosition:yd.fa,getText:yd.Sw,setText:yd.Uo});H.prototype.equals=H.prototype.kb;O.prototype.equals=O.prototype.kb;L.prototype.equals=L.prototype.kb;V(window,{BMAP_ANCHOR_TOP_LEFT:yb,BMAP_ANCHOR_TOP_RIGHT:zb,BMAP_ANCHOR_BOTTOM_LEFT:Ab,BMAP_ANCHOR_BOTTOM_RIGHT:3});var zd=R.prototype;V(zd,{setAnchor:zd.Yb,getAnchor:zd.vw,setOffset:zd.sd,getOffset:zd.Af,show:zd.show,hide:zd.H,isVisible:zd.mh,toString:zd.toString});var Ad=Ua.prototype;V(Ad,{getType:Ad.Al,setType:Ad.pk}); V(window,{BMAP_NAVIGATION_CONTROL_LARGE:0,BMAP_NAVIGATION_CONTROL_SMALL:1,BMAP_NAVIGATION_CONTROL_PAN:2,BMAP_NAVIGATION_CONTROL_ZOOM:3});var Bd=Wa.prototype;V(Bd,{changeView:Bd.jd,setSize:Bd.Mc,getSize:Bd.Eb});var Cd=Va.prototype;V(Cd,{getUnit:Cd.eN,setUnit:Cd.iy});V(window,{BMAP_UNIT_METRIC:"metric",BMAP_UNIT_IMPERIAL:"us"});var Dd=Cb.prototype;V(Dd,{addCopyright:Dd.Lq,removeCopyright:Dd.Ox,getCopyright:Dd.Jj,getCopyrightCollection:Dd.Bw});V(window,{BMAP_MAPTYPE_CONTROL_HORIZONTAL:Db,BMAP_MAPTYPE_CONTROL_DROPDOWN:1}); var Ed=$b.prototype;V(Ed,{getMapType:Ed.ja,getCopyright:Ed.Jj,isTransparentPng:Ed.Bo});var Fd=Hb.prototype;V(Fd,{addItem:Fd.Nq,addSeparator:Fd.hv,removeSeparator:Fd.Qx});var Gd=Ib.prototype;V(Gd,{setText:Gd.Uo});var Hd=U.prototype;V(Hd,{getStatus:Hd.Oj,setSearchCompleteCallback:Hd.gy,getPageCapacity:Hd.ae,setPageCapacity:Hd.$l,setLocation:Hd.nk,disableFirstResultSelection:Hd.Qv,enableFirstResultSelection:Hd.gw,gotoPage:Hd.Sj,searchNearby:Hd.Yl,searchInBounds:Hd.kk,search:Hd.search}); V(window,{BMAP_STATUS_SUCCESS:0,BMAP_STATUS_CITY_LIST:1,BMAP_STATUS_UNKNOWN_LOCATION:2,BMAP_STATUS_UNKNOWN_ROUTE:3,BMAP_STATUS_INVALID_KEY:4,BMAP_STATUS_INVALID_REQUEST:5,BMAP_STATUS_PERMISSION_DENIED:6,BMAP_STATUS_SERVICE_UNAVAILABLE:7,BMAP_STATUS_TIMEOUT:8});V(window,{BMAP_POI_TYPE_NORMAL:0,BMAP_POI_TYPE_BUSSTOP:1,BMAP_POI_TYPE_BUSLINE:2,BMAP_POI_TYPE_SUBSTOP:3,BMAP_POI_TYPE_SUBLINE:4}); V(window,{BMAP_TRANSIT_POLICY_LEAST_TIME:0,BMAP_TRANSIT_POLICY_LEAST_TRANSFER:2,BMAP_TRANSIT_POLICY_LEAST_WALKING:3,BMAP_TRANSIT_POLICY_AVOID_SUBWAYS:4,BMAP_LINE_TYPE_BUS:0,BMAP_LINE_TYPE_SUBWAY:1,BMAP_LINE_TYPE_FERRY:2});var Id=Nc.prototype;V(Id,{clearResults:Id.Jd});Pc=Oc.prototype;V(Pc,{setPolicy:Pc.Qo,toString:Pc.toString,setPageCapacity:Pc.$l});V(window,{BMAP_DRIVING_POLICY_LEAST_TIME:0,BMAP_DRIVING_POLICY_LEAST_DISTANCE:1,BMAP_DRIVING_POLICY_AVOID_HIGHWAYS:2}); V(window,{BMAP_HIGHLIGHT_STEP:1,BMAP_HIGHLIGHT_ROUTE:2});V(window,{BMAP_ROUTE_TYPE_DRIVING:yc,BMAP_ROUTE_TYPE_WALKING:xc});V(window,{BMAP_ROUTE_STATUS_NORMAL:zc,BMAP_ROUTE_STATUS_EMPTY:1,BMAP_ROUTE_STATUS_ADDRESS:2});var Jd=Rc.prototype;V(Jd,{setPolicy:Jd.Qo});var Kd=$c.prototype;V(Kd,{show:Kd.show,hide:Kd.H,setTypes:Kd.hy,setLocation:Kd.nk,search:Kd.search,setInputValue:Kd.xs});V(Ya.prototype,{});var Ld=Yc.prototype;V(Ld,{get:Ld.get});V(Fb.prototype,{});V(La.prototype,{});B.vK(); })()